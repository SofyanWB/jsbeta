{"version":3,"file":"static/js/519.d63e153d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/portal/support/featureCollectionUtils.js","../node_modules/@arcgis/core/layers/support/layersCreator.js","../node_modules/@arcgis/core/portal/support/portalLayers.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction e(e){return t(e,\"notes\")}function r(e){return t(e,\"markup\")}function n(e){return t(e,\"route\")}function t(e,r){return!(!e.layerType||\"ArcGISFeatureLayer\"!==e.layerType)&&e.featureCollectionType===r}export{e as isMapNotesLayer,r as isMarkupLayer,n as isRouteLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Collection.js\";import\"../../core/has.js\";import{eachAlways as r}from\"../../core/promiseUtils.js\";import{layerLookupMap as a}from\"./lazyLayerLoader.js\";import y from\"../../portal/PortalItem.js\";import{isMapNotesLayer as t,isMarkupLayer as i,isRouteLayer as L}from\"../../portal/support/featureCollectionUtils.js\";import{selectLayerClassPath as n}from\"../../portal/support/portalLayers.js\";import{loadStyleRenderer as o}from\"../../renderers/support/styleUtils.js\";async function c(e,a,y){if(!a)return;const t=[];for(const r of a){const e=f(r,y);\"GroupLayer\"===r.layerType?t.push(b(e,r,y)):t.push(e)}const i=await r(t);for(const r of i)r.value&&e.add(r.value)}const l={ArcGISDimensionLayer:\"DimensionLayer\",ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",PointCloudLayer:\"PointCloudLayer\",ArcGISSceneServiceLayer:\"SceneLayer\",IntegratedMeshLayer:\"IntegratedMeshLayer\",OGCFeatureLayer:\"OGCFeatureLayer\",BuildingSceneLayer:\"BuildingSceneLayer\",ArcGISTiledElevationServiceLayer:\"ElevationLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",GroupLayer:\"GroupLayer\",GeoJSON:\"GeoJSONLayer\",WebTiledLayer:\"WebTileLayer\",CSV:\"CSVLayer\",VectorTileLayer:\"VectorTileLayer\",WFS:\"WFSLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\",KML:\"KMLLayer\",RasterDataLayer:\"UnsupportedLayer\",Voxel:\"VoxelLayer\",LineOfSightLayer:\"LineOfSightLayer\"},s={ArcGISTiledElevationServiceLayer:\"ElevationLayer\",DefaultTileLayer:\"ElevationLayer\",RasterDataElevationLayer:\"UnsupportedLayer\"},p={ArcGISTiledMapServiceLayer:\"TileLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",WebTiledLayer:\"WebTileLayer\",VectorTileLayer:\"VectorTileLayer\",ArcGISImageServiceLayer:\"UnsupportedLayer\",WMS:\"UnsupportedLayer\",ArcGISMapServiceLayer:\"UnsupportedLayer\",ArcGISSceneServiceLayer:\"SceneLayer\",DefaultTileLayer:\"TileLayer\"},S={ArcGISAnnotationLayer:\"UnsupportedLayer\",ArcGISDimensionLayer:\"UnsupportedLayer\",ArcGISFeatureLayer:\"FeatureLayer\",ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISStreamLayer:\"StreamLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",CSV:\"CSVLayer\",DefaultTileLayer:\"TileLayer\",GeoRSS:\"GeoRSSLayer\",GeoJSON:\"GeoJSONLayer\",GroupLayer:\"GroupLayer\",KML:\"KMLLayer\",MediaLayer:\"MediaLayer\",OGCFeatureLayer:\"OGCFeatureLayer\",OrientedImageryLayer:\"OrientedImageryLayer\",SubtypeGroupLayer:\"SubtypeGroupLayer\",VectorTileLayer:\"VectorTileLayer\",WFS:\"WFSLayer\",WMS:\"WMSLayer\",WebTiledLayer:\"WebTileLayer\"},u={ArcGISFeatureLayer:\"FeatureLayer\"},d={ArcGISImageServiceLayer:\"ImageryLayer\",ArcGISImageServiceVectorLayer:\"ImageryLayer\",ArcGISMapServiceLayer:\"MapImageLayer\",ArcGISTiledImageServiceLayer:\"ImageryTileLayer\",ArcGISTiledMapServiceLayer:\"TileLayer\",OpenStreetMap:\"OpenStreetMapLayer\",VectorTileLayer:\"VectorTileLayer\",WebTiledLayer:\"WebTileLayer\",BingMapsAerial:\"BingMapsLayer\",BingMapsRoad:\"BingMapsLayer\",BingMapsHybrid:\"BingMapsLayer\",WMS:\"WMSLayer\",DefaultTileLayer:\"TileLayer\"},I={...S,LinkChartLayer:\"LinkChartLayer\"},m={...u},T={...d};async function f(e,r){return g(await G(e,r),e,r)}async function g(e,r,a){const y=new e;return y.read(r,a.context),\"group\"===y.type&&M(r)&&await w(y,r,a.context),await o(y,a.context),y}async function G(e,r){const o=r.context,c=v(o);let l=e.layerType||e.type;!l&&r&&r.defaultLayerType&&(l=r.defaultLayerType);const s=c[l];let p=s?a[s]:a.UnknownLayer;if(A(e)){const r=o?.portal;if(e.itemId){const t=new y({id:e.itemId,portal:r});await t.load();const i=(await n(t)).className||\"UnknownLayer\";p=a[i]}}else\"ArcGISFeatureLayer\"===l?t(e)||i(e)?p=a.MapNotesLayer:L(e)?p=a.RouteLayer:M(e)&&(p=a.GroupLayer):e.wmtsInfo&&e.wmtsInfo.url&&e.wmtsInfo.layerIdentifier?p=a.WMTSLayer:\"WFS\"===l&&\"2.0.0\"!==e.wfsInfo?.version&&(p=a.UnsupportedLayer);return p()}function M(e){if(\"ArcGISFeatureLayer\"!==e.layerType||A(e))return!1;return(e.featureCollection?.layers?.length??0)>1}function A(e){return\"Feature Collection\"===e.type}function v(e){let r;switch(e.origin){case\"web-scene\":switch(e.layerContainerType){case\"basemap\":r=p;break;case\"ground\":r=s;break;default:r=l}break;case\"link-chart\":switch(e.layerContainerType){case\"basemap\":r=T;break;case\"tables\":r=m;break;default:r=I}break;default:switch(e.layerContainerType){case\"basemap\":r=d;break;case\"tables\":r=u;break;default:r=S}}return r}async function b(r,a,y){const t=new e,i=c(t,Array.isArray(a.layers)?a.layers:[],y);try{const e=await r;try{if(await i,\"group\"===e.type)return e.layers.addMany(t),e}catch(L){e.destroy();for(const e of t)e.destroy();throw L}}catch(L){throw L}}async function w(e,r,y){const t=a.FeatureLayer,i=await t(),L=r.featureCollection,n=L?.showLegend,o=L?.layers?.map(((a,t)=>{const L=new i;L.read(a,y);const o={...y,ignoreDefaults:!0};return L.read({id:`${e.id}-sublayer-${t}`,visibility:r.visibleLayers?.includes(t)??!0},o),null!=n&&L.read({showLegend:n},o),L}));e.layers.addMany(o??[])}export{c as populateOperationalLayers};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{sceneServiceLayerTypeToClassName as r}from\"../../layers/support/layerUtils.js\";import{layerLookupMap as a}from\"../../layers/support/lazyLayerLoader.js\";import t from\"../PortalItem.js\";import{getNumLayersAndTables as n,preprocessFSItemData as s,getSubtypeGroupLayerIds as c,getFirstLayerOrTableId as o}from\"./layersLoader.js\";import{hasTypeKeyword as i}from\"./portalItemUtils.js\";import{fetchArcGISServiceJSON as u}from\"../../support/requestPresets.js\";async function l(e){!e.portalItem||e.portalItem instanceof t||(e={...e,portalItem:new t(e.portalItem)});const r=await y(e.portalItem);return new(0,r.constructor)({portalItem:e.portalItem,...r.properties})}async function y(e){await e.load();return p(await m(e))}async function m(r){switch(r.type){case\"Map Service\":return f(r);case\"Feature Service\":return L(r);case\"Feature Collection\":return w(r);case\"Scene Service\":return N(r);case\"Image Service\":return d(r);case\"Stream Service\":return S();case\"Vector Tile Service\":return I();case\"GeoJson\":return g();case\"CSV\":return T();case\"KML\":return j();case\"WFS\":return v();case\"WMTS\":return F();case\"WMS\":return M();case\"Feed\":return G();default:throw new e(\"portal:unknown-item-type\",\"Unknown item type '${type}'\",{type:r.type})}}async function p(e){const r=e.className,t=a[r];return{constructor:await t(),properties:e.properties}}async function f(e){return await b(e)?{className:\"TileLayer\"}:{className:\"MapImageLayer\"}}async function L(e){if(i(e,\"Oriented Imagery Layer\"))return h(e);const r=await C(e);if(\"object\"==typeof r){const e={};return null!=r.id&&(e.layerId=r.id),{className:r.className||\"FeatureLayer\",properties:e}}return{className:\"GroupLayer\"}}async function N(e){const a=await C(e);if(\"object\"==typeof a){const t={};let n;if(null!=a.id?(t.layerId=a.id,n=`${e.url}/layers/${a.id}`):n=e.url,e.typeKeywords?.length)for(const a of Object.keys(r))if(e.typeKeywords.includes(a))return{className:r[a]};const s=await u(n);return{className:r[s?.layerType]||\"SceneLayer\",properties:t}}if(!1===a){const r=await u(e.url);return\"Voxel\"===r?.layerType?{className:\"VoxelLayer\"}:{className:\"GroupLayer\"}}return{className:\"GroupLayer\"}}async function w(e){await e.load();const r=i(e,\"Map Notes\"),a=i(e,\"Markup\");if(r||a)return{className:\"MapNotesLayer\"};if(i(e,\"Route Layer\"))return{className:\"RouteLayer\"};const t=await e.fetchData();return 1===n(t)?{className:\"FeatureLayer\"}:{className:\"GroupLayer\"}}async function d(e){await e.load();const r=e.typeKeywords?.map((e=>e.toLowerCase()))??[];if(r.includes(\"elevation 3d layer\"))return{className:\"ElevationLayer\"};if(r.includes(\"tiled imagery\"))return{className:\"ImageryTileLayer\"};const a=await e.fetchData(),t=a?.layerType;if(\"ArcGISTiledImageServiceLayer\"===t)return{className:\"ImageryTileLayer\"};if(\"ArcGISImageServiceLayer\"===t)return{className:\"ImageryLayer\"};const n=await u(e.url),s=n.cacheType?.toLowerCase(),c=n.capabilities?.toLowerCase().includes(\"tilesonly\");return\"map\"===s||c?{className:\"ImageryTileLayer\"}:{className:\"ImageryLayer\"}}function S(){return{className:\"StreamLayer\"}}function I(){return{className:\"VectorTileLayer\"}}function g(){return{className:\"GeoJSONLayer\"}}function T(){return{className:\"CSVLayer\"}}function j(){return{className:\"KMLLayer\"}}function v(){return{className:\"WFSLayer\"}}function M(){return{className:\"WMSLayer\"}}function F(){return{className:\"WMTSLayer\"}}function G(){return{className:\"StreamLayer\"}}async function h(e){await e.load();return{className:\"OrientedImageryLayer\",properties:await e.fetchData()}}async function b(e){return(await u(e.url)).tileInfo}async function C(e){const r=e.url;if(!r||/\\/\\d+$/.test(r))return{};await e.load();const a=await e.fetchData();if(\"Feature Service\"===e.type){const e=V(await s(a,r));if(\"object\"==typeof e){const r=c(a);e.className=null!=e.id&&r.includes(e.id)?\"SubtypeGroupLayer\":\"FeatureLayer\"}return e}if(n(a)>0)return V(a);return V(await u(r))}function V(e){return 1===n(e)&&{id:o(e)}}export{l as fromItem,m as selectLayerClassPath};\n"],"names":["e","t","r","n","layerType","featureCollectionType","c","a","y","f","push","b","i","value","add","l","ArcGISDimensionLayer","ArcGISFeatureLayer","ArcGISImageServiceLayer","ArcGISMapServiceLayer","PointCloudLayer","ArcGISSceneServiceLayer","IntegratedMeshLayer","OGCFeatureLayer","BuildingSceneLayer","ArcGISTiledElevationServiceLayer","ArcGISTiledImageServiceLayer","ArcGISTiledMapServiceLayer","GroupLayer","GeoJSON","WebTiledLayer","CSV","VectorTileLayer","WFS","WMS","DefaultTileLayer","KML","RasterDataLayer","Voxel","LineOfSightLayer","s","RasterDataElevationLayer","p","OpenStreetMap","S","ArcGISAnnotationLayer","ArcGISImageServiceVectorLayer","ArcGISStreamLayer","BingMapsAerial","BingMapsRoad","BingMapsHybrid","GeoRSS","MediaLayer","OrientedImageryLayer","SubtypeGroupLayer","u","d","I","LinkChartLayer","m","T","g","G","read","context","type","M","w","o","v","defaultLayerType","A","portal","itemId","id","load","className","L","wmtsInfo","url","layerIdentifier","wfsInfo","version","featureCollection","layers","length","origin","layerContainerType","Array","isArray","addMany","destroy","showLegend","map","ignoreDefaults","visibility","visibleLayers","includes","portalItem","constructor","properties","N","h","C","layerId","typeKeywords","Object","keys","fetchData","toLowerCase","cacheType","capabilities","tileInfo","test","V"],"sourceRoot":""}