"use strict";(self.webpackChunkjakartasatubeta=self.webpackChunkjakartasatubeta||[]).push([[519,3139],{20519:function(e,r,a){a.r(r),a.d(r,{populateOperationalLayers:function(){return m}});var t=a(74165),n=a(37762),u=a(1413),c=a(15861),s=a(40281),i=(a(93169),a(66978)),y=a(19610),o=a(98995);function p(e){return f(e,"notes")}function l(e){return f(e,"markup")}function L(e){return f(e,"route")}function f(e,r){return!(!e.layerType||"ArcGISFeatureLayer"!==e.layerType)&&e.featureCollectionType===r}var d=a(43139),S=a(21371);function m(e,r,a){return v.apply(this,arguments)}function v(){return v=(0,c.Z)((0,t.Z)().mark((function e(r,a,u){var c,s,y,o,p,l,L,f,d;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:c=[],s=(0,n.Z)(a);try{for(s.s();!(y=s.n()).done;)o=y.value,p=G(o,u),"GroupLayer"===o.layerType?c.push(D(p,o,u)):c.push(p)}catch(t){s.e(t)}finally{s.f()}return e.next=7,(0,i.as)(c);case 7:l=e.sent,L=(0,n.Z)(l);try{for(L.s();!(f=L.n()).done;)(d=f.value).value&&r.add(d.value)}catch(t){L.e(t)}finally{L.f()}case 10:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}var b={ArcGISDimensionLayer:"DimensionLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",PointCloudLayer:"PointCloudLayer",ArcGISSceneServiceLayer:"SceneLayer",IntegratedMeshLayer:"IntegratedMeshLayer",OGCFeatureLayer:"OGCFeatureLayer",BuildingSceneLayer:"BuildingSceneLayer",ArcGISTiledElevationServiceLayer:"ElevationLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",GroupLayer:"GroupLayer",GeoJSON:"GeoJSONLayer",WebTiledLayer:"WebTileLayer",CSV:"CSVLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer",KML:"KMLLayer",RasterDataLayer:"UnsupportedLayer",Voxel:"VoxelLayer",LineOfSightLayer:"LineOfSightLayer"},I={ArcGISTiledElevationServiceLayer:"ElevationLayer",DefaultTileLayer:"ElevationLayer",RasterDataElevationLayer:"UnsupportedLayer"},h={ArcGISTiledMapServiceLayer:"TileLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",OpenStreetMap:"OpenStreetMapLayer",WebTiledLayer:"WebTileLayer",VectorTileLayer:"VectorTileLayer",ArcGISImageServiceLayer:"UnsupportedLayer",WMS:"UnsupportedLayer",ArcGISMapServiceLayer:"UnsupportedLayer",ArcGISSceneServiceLayer:"SceneLayer",DefaultTileLayer:"TileLayer"},T={ArcGISAnnotationLayer:"UnsupportedLayer",ArcGISDimensionLayer:"UnsupportedLayer",ArcGISFeatureLayer:"FeatureLayer",ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISStreamLayer:"StreamLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",CSV:"CSVLayer",DefaultTileLayer:"TileLayer",GeoRSS:"GeoRSSLayer",GeoJSON:"GeoJSONLayer",GroupLayer:"GroupLayer",KML:"KMLLayer",MediaLayer:"MediaLayer",OGCFeatureLayer:"OGCFeatureLayer",OrientedImageryLayer:"OrientedImageryLayer",SubtypeGroupLayer:"SubtypeGroupLayer",VectorTileLayer:"VectorTileLayer",WFS:"WFSLayer",WMS:"WMSLayer",WebTiledLayer:"WebTileLayer"},x={ArcGISFeatureLayer:"FeatureLayer"},k={ArcGISImageServiceLayer:"ImageryLayer",ArcGISImageServiceVectorLayer:"ImageryLayer",ArcGISMapServiceLayer:"MapImageLayer",ArcGISTiledImageServiceLayer:"ImageryTileLayer",ArcGISTiledMapServiceLayer:"TileLayer",OpenStreetMap:"OpenStreetMapLayer",VectorTileLayer:"VectorTileLayer",WebTiledLayer:"WebTileLayer",BingMapsAerial:"BingMapsLayer",BingMapsRoad:"BingMapsLayer",BingMapsHybrid:"BingMapsLayer",WMS:"WMSLayer",DefaultTileLayer:"TileLayer"},g=(0,u.Z)((0,u.Z)({},T),{},{LinkChartLayer:"LinkChartLayer"}),w=(0,u.Z)({},x),Z=(0,u.Z)({},k);function G(e,r){return M.apply(this,arguments)}function M(){return(M=(0,c.Z)((0,t.Z)().mark((function e(r,a){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=N,e.next=3,F(r,a);case 3:return e.t1=e.sent,e.t2=r,e.t3=a,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,r,a){return A.apply(this,arguments)}function A(){return(A=(0,c.Z)((0,t.Z)().mark((function e(r,a,n){var u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((u=new r).read(a,n.context),e.t0="group"===u.type&&W(a),!e.t0){e.next=6;break}return e.next=6,U(u,a,n.context);case 6:return e.next=8,(0,S.y)(u,n.context);case 8:return e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,r){return C.apply(this,arguments)}function C(){return C=(0,c.Z)((0,t.Z)().mark((function e(r,a){var n,u,c,s,i,f,S,m,v;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=a.context,c=V(u),!(s=r.layerType||r.type)&&a&&a.defaultLayerType&&(s=a.defaultLayerType),i=c[s],f=i?y.T[i]:y.T.UnknownLayer,!O(r)){e.next=20;break}if(S=null===u||void 0===u?void 0:u.portal,!r.itemId){e.next=18;break}return m=new o.default({id:r.itemId,portal:S}),e.next=11,m.load();case 11:return e.next=13,(0,d.selectLayerClassPath)(m);case 13:if(e.t0=e.sent.className,e.t0){e.next=16;break}e.t0="UnknownLayer";case 16:v=e.t0,f=y.T[v];case 18:e.next=21;break;case 20:"ArcGISFeatureLayer"===s?p(r)||l(r)?f=y.T.MapNotesLayer:L(r)?f=y.T.RouteLayer:W(r)&&(f=y.T.GroupLayer):r.wmtsInfo&&r.wmtsInfo.url&&r.wmtsInfo.layerIdentifier?f=y.T.WMTSLayer:"WFS"===s&&"2.0.0"!==(null===(n=r.wfsInfo)||void 0===n?void 0:n.version)&&(f=y.T.UnsupportedLayer);case 21:return e.abrupt("return",f());case 22:case"end":return e.stop()}}),e)}))),C.apply(this,arguments)}function W(e){var r,a,t;return"ArcGISFeatureLayer"===e.layerType&&!O(e)&&(null!==(r=null===(a=e.featureCollection)||void 0===a||null===(t=a.layers)||void 0===t?void 0:t.length)&&void 0!==r?r:0)>1}function O(e){return"Feature Collection"===e.type}function V(e){var r;switch(e.origin){case"web-scene":switch(e.layerContainerType){case"basemap":r=h;break;case"ground":r=I;break;default:r=b}break;case"link-chart":switch(e.layerContainerType){case"basemap":r=Z;break;case"tables":r=w;break;default:r=g}break;default:switch(e.layerContainerType){case"basemap":r=k;break;case"tables":r=x;break;default:r=T}}return r}function D(e,r,a){return B.apply(this,arguments)}function B(){return B=(0,c.Z)((0,t.Z)().mark((function e(r,a,u){var c,i,y,o,p;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new s.Z,i=m(c,Array.isArray(a.layers)?a.layers:[],u),e.prev=1,e.next=4,r;case 4:return y=e.sent,e.prev=5,e.next=8,i;case 8:if("group"!==y.type){e.next=10;break}return e.abrupt("return",(y.layers.addMany(c),y));case 10:e.next=18;break;case 12:e.prev=12,e.t0=e.catch(5),y.destroy(),o=(0,n.Z)(c);try{for(o.s();!(p=o.n()).done;)p.value.destroy()}catch(t){o.e(t)}finally{o.f()}throw e.t0;case 18:e.next=23;break;case 20:throw e.prev=20,e.t1=e.catch(1),e.t1;case 23:case"end":return e.stop()}}),e,null,[[1,20],[5,12]])}))),B.apply(this,arguments)}function U(e,r,a){return K.apply(this,arguments)}function K(){return K=(0,c.Z)((0,t.Z)().mark((function e(r,a,n){var c,s,i,o,p,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=y.T.FeatureLayer,e.next=3,s();case 3:i=e.sent,o=a.featureCollection,p=null===o||void 0===o?void 0:o.showLegend,l=null===o||void 0===o||null===(c=o.layers)||void 0===c?void 0:c.map((function(e,t){var c,s,y=new i;y.read(e,n);var o=(0,u.Z)((0,u.Z)({},n),{},{ignoreDefaults:!0});return y.read({id:"".concat(r.id,"-sublayer-").concat(t),visibility:null===(c=null===(s=a.visibleLayers)||void 0===s?void 0:s.includes(t))||void 0===c||c},o),null!=p&&y.read({showLegend:p},o),y})),r.layers.addMany(null!==l&&void 0!==l?l:[]);case 8:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}},43139:function(e,r,a){a.r(r),a.d(r,{fromItem:function(){return L},selectLayerClassPath:function(){return m}});var t=a(74165),n=a(1413),u=a(15861),c=a(10064),s=a(37933),i=a(19610),y=a(98995),o=a(33388),p=a(73117),l=a(41226);function L(e){return f.apply(this,arguments)}function f(){return(f=(0,u.Z)((0,t.Z)().mark((function e(r){var a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!r.portalItem||r.portalItem instanceof y.default||(r=(0,n.Z)((0,n.Z)({},r),{},{portalItem:new y.default(r.portalItem)})),e.next=3,d(r.portalItem);case 3:return a=e.sent,e.abrupt("return",new(0,a.constructor)((0,n.Z)({portalItem:r.portalItem},a.properties)));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return S.apply(this,arguments)}function S(){return(S=(0,u.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.load();case 2:return e.t0=b,e.next=5,m(r);case 5:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=(0,u.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r.type,e.next="Map Service"===e.t0?3:"Feature Service"===e.t0?4:"Feature Collection"===e.t0?5:"Scene Service"===e.t0?6:"Image Service"===e.t0?7:"Stream Service"===e.t0?8:"Vector Tile Service"===e.t0?9:"GeoJson"===e.t0?10:"CSV"===e.t0?11:"KML"===e.t0?12:"WFS"===e.t0?13:"WMTS"===e.t0?14:"WMS"===e.t0?15:"Feed"===e.t0?16:17;break;case 3:return e.abrupt("return",h(r));case 4:return e.abrupt("return",x(r));case 5:return e.abrupt("return",Z(r));case 6:return e.abrupt("return",g(r));case 7:return e.abrupt("return",M(r));case 8:case 16:return e.abrupt("return",{className:"StreamLayer"});case 9:return e.abrupt("return",{className:"VectorTileLayer"});case 10:return e.abrupt("return",{className:"GeoJSONLayer"});case 11:return e.abrupt("return",{className:"CSVLayer"});case 12:return e.abrupt("return",{className:"KMLLayer"});case 13:return e.abrupt("return",{className:"WFSLayer"});case 14:return e.abrupt("return",{className:"WMTSLayer"});case 15:return e.abrupt("return",{className:"WMSLayer"});case 17:throw new c.Z("portal:unknown-item-type","Unknown item type '${type}'",{type:r.type});case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return I.apply(this,arguments)}function I(){return(I=(0,u.Z)((0,t.Z)().mark((function e(r){var a,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.className,n=i.T[a],e.next=3,n();case 3:return e.t0=e.sent,e.t1=r.properties,e.abrupt("return",{constructor:e.t0,properties:e.t1});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return T.apply(this,arguments)}function T(){return(T=(0,u.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(r);case 2:if(!e.sent){e.next=6;break}e.t0={className:"TileLayer"},e.next=7;break;case 6:e.t0={className:"MapImageLayer"};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return k.apply(this,arguments)}function k(){return(k=(0,u.Z)((0,t.Z)().mark((function e(r){var a,n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,p._$)(r,"Oriented Imagery Layer")){e.next=2;break}return e.abrupt("return",A(r));case 2:return e.next=4,O(r);case 4:if("object"!=typeof(a=e.sent)){e.next=8;break}return n={},e.abrupt("return",(null!=a.id&&(n.layerId=a.id),{className:a.className||"FeatureLayer",properties:n}));case 8:return e.abrupt("return",{className:"GroupLayer"});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return w.apply(this,arguments)}function w(){return(w=(0,u.Z)((0,t.Z)().mark((function e(r){var a,n,u,c,i,y,o,p,L;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(r);case 2:if("object"!=typeof(a=e.sent)){e.next=18;break}if(u={},null!=a.id?(u.layerId=a.id,c="".concat(r.url,"/layers/").concat(a.id)):c=r.url,null===(n=r.typeKeywords)||void 0===n||!n.length){e.next=14;break}i=0,y=Object.keys(s.fb);case 7:if(!(i<y.length)){e.next=14;break}if(o=y[i],!r.typeKeywords.includes(o)){e.next=11;break}return e.abrupt("return",{className:s.fb[o]});case 11:i++,e.next=7;break;case 14:return e.next=16,(0,l.T)(c);case 16:return p=e.sent,e.abrupt("return",{className:s.fb[null===p||void 0===p?void 0:p.layerType]||"SceneLayer",properties:u});case 18:if(!1!==a){e.next=23;break}return e.next=21,(0,l.T)(r.url);case 21:return L=e.sent,e.abrupt("return","Voxel"===(null===L||void 0===L?void 0:L.layerType)?{className:"VoxelLayer"}:{className:"GroupLayer"});case 23:return e.abrupt("return",{className:"GroupLayer"});case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return G.apply(this,arguments)}function G(){return(G=(0,u.Z)((0,t.Z)().mark((function e(r){var a,n,u;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.load();case 2:if(a=(0,p._$)(r,"Map Notes"),n=(0,p._$)(r,"Markup"),!a&&!n){e.next=5;break}return e.abrupt("return",{className:"MapNotesLayer"});case 5:if(!(0,p._$)(r,"Route Layer")){e.next=7;break}return e.abrupt("return",{className:"RouteLayer"});case 7:return e.next=9,r.fetchData();case 9:return u=e.sent,e.abrupt("return",1===(0,o.getNumLayersAndTables)(u)?{className:"FeatureLayer"}:{className:"GroupLayer"});case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return N.apply(this,arguments)}function N(){return(N=(0,u.Z)((0,t.Z)().mark((function e(r){var a,n,u,c,s,i,y,o,p,L;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.load();case 2:if(s=null!==(a=null===(n=r.typeKeywords)||void 0===n?void 0:n.map((function(e){return e.toLowerCase()})))&&void 0!==a?a:[],!s.includes("elevation 3d layer")){e.next=5;break}return e.abrupt("return",{className:"ElevationLayer"});case 5:if(!s.includes("tiled imagery")){e.next=7;break}return e.abrupt("return",{className:"ImageryTileLayer"});case 7:return e.next=9,r.fetchData();case 9:if(i=e.sent,"ArcGISTiledImageServiceLayer"!==(y=null===i||void 0===i?void 0:i.layerType)){e.next=13;break}return e.abrupt("return",{className:"ImageryTileLayer"});case 13:if("ArcGISImageServiceLayer"!==y){e.next=15;break}return e.abrupt("return",{className:"ImageryLayer"});case 15:return e.next=17,(0,l.T)(r.url);case 17:return o=e.sent,p=null===(u=o.cacheType)||void 0===u?void 0:u.toLowerCase(),L=null===(c=o.capabilities)||void 0===c?void 0:c.toLowerCase().includes("tilesonly"),e.abrupt("return","map"===p||L?{className:"ImageryTileLayer"}:{className:"ImageryLayer"});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return F.apply(this,arguments)}function F(){return(F=(0,u.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.load();case 2:return e.next=4,r.fetchData();case 4:return e.t0=e.sent,e.abrupt("return",{className:"OrientedImageryLayer",properties:e.t0});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return W.apply(this,arguments)}function W(){return(W=(0,u.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,l.T)(r.url);case 2:return e.abrupt("return",e.sent.tileInfo);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return V.apply(this,arguments)}function V(){return(V=(0,u.Z)((0,t.Z)().mark((function e(r){var a,n,u,c;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=r.url)&&!/\/\d+$/.test(a)){e.next=3;break}return e.abrupt("return",{});case 3:return e.next=5,r.load();case 5:return e.next=7,r.fetchData();case 7:if(n=e.sent,"Feature Service"!==r.type){e.next=16;break}return e.t0=D,e.next=12,(0,o.preprocessFSItemData)(n,a);case 12:return e.t1=e.sent,"object"==typeof(u=(0,e.t0)(e.t1))&&(c=(0,o.getSubtypeGroupLayerIds)(n),u.className=null!=u.id&&c.includes(u.id)?"SubtypeGroupLayer":"FeatureLayer"),e.abrupt("return",u);case 16:if(!((0,o.getNumLayersAndTables)(n)>0)){e.next=18;break}return e.abrupt("return",D(n));case 18:return e.t2=D,e.next=21,(0,l.T)(a);case 21:return e.t3=e.sent,e.abrupt("return",(0,e.t2)(e.t3));case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return 1===(0,o.getNumLayersAndTables)(e)&&{id:(0,o.getFirstLayerOrTableId)(e)}}}}]);
//# sourceMappingURL=519.d63e153d.chunk.js.map