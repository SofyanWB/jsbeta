{"version":3,"file":"static/js/7940.2744ff84.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/core/byteSizeEstimations.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationAlignment.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/snappingCandidateElevationFilter.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/symbologySnappingCandidates.js","../node_modules/@arcgis/core/core/AsyncSequence.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/PendingFeatureTile.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiledFetcher.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileCache.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileStore.js","../node_modules/@arcgis/core/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nfunction r(r){return 32+r.length}function n(r){return 16}function t(t){if(!t)return 0;let e=f;for(const o in t)if(t.hasOwnProperty(o)){const u=t[o];switch(typeof u){case\"string\":e+=r(u);break;case\"number\":e+=n();break;case\"boolean\":e+=4}}return e}function e(r){if(!r)return 0;if(Array.isArray(r))return o(r);let n=f;for(const t in r)r.hasOwnProperty(t)&&(n+=u(r[t]));return n}function o(r){const n=r.length;if(0===n||\"number\"==typeof r[0])return 32+8*n;let t=i;for(let e=0;e<n;e++)t+=u(r[e]);return t}function u(t){switch(typeof t){case\"object\":return e(t);case\"string\":return r(t);case\"number\":return n();case\"boolean\":return 4;default:return 8}}function c(r,n){return i+r.length*n}const f=32,i=32;export{t as estimateAttributesObjectSize,c as estimateFixedArraySize,e as estimateNestedObjectSize,n as estimateNumberByteSize,r as estimateStringByteSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{LRUCache as e}from\"../../../../core/LRUCache.js\";import{getOrCreateMapValue as t}from\"../../../../core/MapUtils.js\";import{throwIfAborted as s}from\"../../../../core/promiseUtils.js\";import{getMetersPerVerticalUnitForSR as n}from\"../../../../core/unitUtils.js\";import{getMetersPerUnit as o}from\"../../../../symbols/support/unitConversionUtils.js\";function i(e=!1,t){if(e){const{elevationInfo:e,alignPointsInFeatures:s,spatialReference:n}=t;return new c(e,s,n)}return new a}class a{async alignCandidates(e,t){return e}notifyElevationSourceChange(){}}const r=1024;class c{constructor(t,s,o){this._elevationInfo=t,this._alignPointsInFeatures=s,this.spatialReference=o,this._alignmentsCache=new e(r),this._cacheVersion=0,this._metersPerVerticalUnit=n(o)}async alignCandidates(e,t){const s=this._elevationInfo;return null==s||\"absolute-height\"!==s.mode||s.featureExpressionInfo?this._alignComputedElevationCandidates(e,t):(this._alignAbsoluteElevationCandidates(e,s),e)}notifyElevationSourceChange(){this._alignmentsCache.clear(),this._cacheVersion++}_alignAbsoluteElevationCandidates(e,t){const{offset:s,unit:n}=t;if(null==s)return;const i=s*(o(n??\"meters\")/this._metersPerVerticalUnit);for(const o of e)switch(o.type){case\"edge\":o.start.z+=i,o.end.z+=i;continue;case\"vertex\":o.target.z+=i;continue}}async _alignComputedElevationCandidates(e,n){const o=new Map;for(const s of e)t(o,s.objectId,d).push(s);const[i,a,r]=this._prepareQuery(o),c=await this._alignPointsInFeatures(i,n);s(n);if(r!==this._cacheVersion)return this._alignComputedElevationCandidates(e,n);this._applyCacheAndResponse(i,c,a);const{drapedObjectIds:l,failedObjectIds:h}=c,u=[];for(const t of e){const{objectId:e}=t;l.has(e)&&\"edge\"===t.type&&(t.draped=!0),h.has(e)||u.push(t)}return u}_prepareQuery(e){const t=[],s=[];for(const[n,o]of e){const e=[];for(const t of o)this._addToQueriesOrCachedResult(n,t.target,e,s),\"edge\"===t.type&&(this._addToQueriesOrCachedResult(n,t.start,e,s),this._addToQueriesOrCachedResult(n,t.end,e,s));0!==e.length&&t.push({objectId:n,points:e})}return[t,s,this._cacheVersion]}_addToQueriesOrCachedResult(e,t,s,n){const o=h(e,t),i=this._alignmentsCache.get(o);null==i?s.push(t):n.push(new l(t,i))}_applyCacheAndResponse(e,{elevations:t,drapedObjectIds:s,failedObjectIds:n},o){for(const r of o)r.apply();let i=0;const a=this._alignmentsCache;for(const{objectId:r,points:c}of e){if(n.has(r)){i+=c.length;continue}const e=!s.has(r);for(const s of c){const n=h(r,s),o=t[i++];s.z=o,e&&a.put(n,o,1)}}}}class l{constructor(e,t){this.point=e,this.z=t}apply(){this.point.z=this.z}}function h(e,{x:t,y:s,z:n}){return`${e}-${t}-${s}-${n??0}}`}function d(){return[]}export{i as getSnappingCandidateElevationAligner};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";class t{filter(t,n){return n}notifyElevationSourceChange(){}}class n{filter(t,n){const{point:r,distance:c}=t,{z:i}=r;if(!(null!=i))return n;if(0===n.length)return n;const o=s(c),u=this._updateCandidatesTo3D(n,r,o).filter(e);return u.sort(a),u}_updateCandidatesTo3D(t,n,e){for(const r of t)switch(r.type){case\"edge\":c(r,n,e);continue;case\"vertex\":o(r,n,e);continue}return t}}function e(t){return t.distance<=1}function r(e=!1){return e?new n:new t}function c(t,n,{x:e,y:r,z:c}){const{start:o,end:s,target:a}=t;t.draped||i(a,n,o,s);const u=(n.x-a.x)/e,d=(n.y-a.y)/r,f=(n.z-a.z)/c;t.distance=Math.sqrt(u*u+d*d+f*f)}function i(t,n,e,r){const c=r.x-e.x,i=r.y-e.y,o=r.z-e.z,s=c*c+i*i+o*o,a=(n.x-e.x)*c+(n.y-e.y)*i+o*(n.z-e.z),u=Math.min(1,Math.max(0,a/s)),d=e.x+c*u,f=e.y+i*u,x=e.z+o*u;t.x=d,t.y=f,t.z=x}function o(t,n,{x:e,y:r,z:c}){const{target:i}=t,o=(n.x-i.x)/e,s=(n.y-i.y)/r,a=(n.z-i.z)/c,u=Math.sqrt(o*o+s*s+a*a);t.distance=u}function s(t){return\"number\"==typeof t?{x:t,y:t,z:t}:t}function a(t,n){return t.distance-n.distance}export{r as getSnappingCandidateElevationFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{clone as t}from\"../../../../core/lang.js\";import{LRUCache as e}from\"../../../../core/LRUCache.js\";import{throwIfAborted as s}from\"../../../../core/promiseUtils.js\";import{numericHash as o}from\"../../../../core/string.js\";function n(t=!1,e){return t?new i(e):new c}class c{async fetch(){return[]}notifySymbologyChange(){}}const r=1024;class i{constructor(t){this._getSymbologyCandidates=t,this._candidatesCache=new e(r),this._cacheVersion=0}async fetch(e,o){if(0===e.length)return[];const n=[],c=[],r=this._candidatesCache;for(const s of e){const e=a(s),o=r.get(e);if(o)for(const s of o)c.push(t(s));else n.push(s),r.put(e,[],1)}if(0===n.length)return c;const i=this._cacheVersion,{candidates:h,sourceCandidateIndices:d}=await this._getSymbologyCandidates(n,o);s(o);if(i!==this._cacheVersion)return this.fetch(e,o);const f=[],{length:g}=h;for(let s=0;s<g;++s){const e=h[s],o=a(n[d[s]]),c=r.get(o);c.push(e),r.put(o,c,c.length),f.push(t(e))}return c.concat(f)}notifySymbologyChange(){this._candidatesCache.clear(),this._cacheVersion++}}function a(t){switch(t.type){case\"vertex\":{const{objectId:e,target:s}=t,n=`${e}-vertex-${s.x}-${s.y}-${s.z??0}`;return o(n).toString()}case\"edge\":{const{objectId:e,start:s,end:n}=t,c=`${e}-edge-${s.x}-${s.y}-${s.z??0}-to-${n.x}-${n.y}-${n.z??0}`;return o(c).toString()}default:return\"\"}}export{n as getSymbologySnappingCandidatesFetcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../chunks/tslib.es6.js\";import t from\"./Accessor.js\";import{property as e}from\"./accessorSupport/decorators/property.js\";import{subclass as i}from\"./accessorSupport/decorators/subclass.js\";let r=class extends t{constructor(){super(...arguments),this.updating=!1,this._pending=[]}push(s,t){this._pending.push({promise:s,callback:t}),1===this._pending.length&&this._process()}_process(){if(!this._pending.length)return void(this.updating=!1);this.updating=!0;const s=this._pending[0];s.promise.then((t=>s.callback(t))).catch((()=>{})).then((()=>{this._pending.shift(),this._process()}))}};s([e()],r.prototype,\"updating\",void 0),r=s([i(\"esri.core.AsyncSequence\")],r);export{r as AsyncSequence};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{createTask as t,resultOrAbort as e}from\"../../../../../core/asyncUtils.js\";import{create as s,fromExtent as a,intersects as E}from\"../../../../../geometry/support/aaBoundingRect.js\";class r{constructor(t,e){this.data=t,this.resolution=e,this.state={type:u.CREATED},this.alive=!0}process(t){switch(this.state.type){case u.CREATED:return this.state=this._gotoFetchCount(this.state,t),this.state.task.promise.then(t.resume,t.resume);case u.FETCH_COUNT:break;case u.FETCHED_COUNT:return this.state=this._gotoFetchFeatures(this.state,t),this.state.task.promise.then(t.resume,t.resume);case u.FETCH_FEATURES:break;case u.FETCHED_FEATURES:this.state=this._goToDone(this.state,t);case u.DONE:}return null}get debugInfo(){return{data:this.data,featureCount:this._featureCount,state:this._stateToString}}get _featureCount(){switch(this.state.type){case u.CREATED:case u.FETCH_COUNT:return 0;case u.FETCHED_COUNT:return this.state.featureCount;case u.FETCH_FEATURES:return this.state.previous.featureCount;case u.FETCHED_FEATURES:return this.state.features.length;case u.DONE:return this.state.previous.features.length}}get _stateToString(){switch(this.state.type){case u.CREATED:return\"created\";case u.FETCH_COUNT:return\"fetch-count\";case u.FETCHED_COUNT:return\"fetched-count\";case u.FETCH_FEATURES:return\"fetch-features\";case u.FETCHED_FEATURES:return\"fetched-features\";case u.DONE:return\"done\"}}_gotoFetchCount(s,a){return{type:u.FETCH_COUNT,previous:s,task:t((async t=>{const s=await e(a.fetchCount(this,t));this.state.type===u.FETCH_COUNT&&(this.state=this._gotoFetchedCount(this.state,s.ok?s.value:1/0))}))}}_gotoFetchedCount(t,e){return{type:u.FETCHED_COUNT,featureCount:e,previous:t}}_gotoFetchFeatures(s,a){return{type:u.FETCH_FEATURES,previous:s,task:t((async t=>{const E=await e(a.fetchFeatures(this,s.featureCount,t));this.state.type===u.FETCH_FEATURES&&(this.state=this._gotoFetchedFeatures(this.state,E.ok?E.value:[]))}))}}_gotoFetchedFeatures(t,e){return{type:u.FETCHED_FEATURES,previous:t,features:e}}_goToDone(t,e){return e.finish(this,t.features),{type:u.DONE,previous:t}}reset(){const t=this.state;switch(this.state={type:u.CREATED},t.type){case u.CREATED:case u.FETCHED_COUNT:case u.FETCHED_FEATURES:case u.DONE:break;case u.FETCH_COUNT:case u.FETCH_FEATURES:t.task.abort()}}intersects(t){return null==t||!this.data.extent||(a(t,T),E(this.data.extent,T))}}var u;!function(t){t[t.CREATED=0]=\"CREATED\",t[t.FETCH_COUNT=1]=\"FETCH_COUNT\",t[t.FETCHED_COUNT=2]=\"FETCHED_COUNT\",t[t.FETCH_FEATURES=3]=\"FETCH_FEATURES\",t[t.FETCHED_FEATURES=4]=\"FETCHED_FEATURES\",t[t.DONE=5]=\"DONE\"}(u||(u={}));const T=s();export{r as PendingFeatureTile,u as StateType};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import{equals as t}from\"../../../../../core/arrayUtils.js\";import{AsyncSequence as i}from\"../../../../../core/AsyncSequence.js\";import{createTask as s}from\"../../../../../core/asyncUtils.js\";import{HandleOwner as r}from\"../../../../../core/HandleOwner.js\";import{makeHandle as n}from\"../../../../../core/handleUtils.js\";import o from\"../../../../../core/Logger.js\";import{throwIfAbortError as a}from\"../../../../../core/promiseUtils.js\";import{sync as l}from\"../../../../../core/reactiveUtils.js\";import{property as u}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/has.js\";import{subclass as c}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import d from\"../../../../../geometry/Extent.js\";import{toExtent as h}from\"../../../../../geometry/support/aaBoundingRect.js\";import{unquantizeOptimizedFeatureSet as p,convertFromFeatureSet as f}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{isHostedAgolService as y}from\"../../../../../layers/support/arcgisLayerUrl.js\";import{OptimizedFeatureSetParserContext as g}from\"../../../../../rest/query/operations/pbfOptimizedFeatureSet.js\";import{executeQueryForExtent as m,executeQueryPBF as _,executeQuery as b}from\"../../../../../rest/query/operations/query.js\";import F from\"../../../../../rest/support/Query.js\";import{StateType as T,PendingFeatureTile as P}from\"./PendingFeatureTile.js\";let I=class extends r{get _minimumVerticesPerFeature(){switch(this.store?.featureStore.geometryType){case\"esriGeometryPoint\":case\"esriGeometryMultipoint\":return 1;case\"esriGeometryPolygon\":return 4;case\"esriGeometryPolyline\":return 2}}set filter(e){const t=this._get(\"filter\"),i=this._filterProperties(e);JSON.stringify(t)!==JSON.stringify(i)&&this._set(\"filter\",i)}set customParameters(e){const t=this._get(\"customParameters\");JSON.stringify(t)!==JSON.stringify(e)&&this._set(\"customParameters\",e)}get _configuration(){return{filter:this.filter,customParameters:this.customParameters,tileInfo:this.tileInfo,tileSize:this.tileSize}}set tileInfo(e){const t=this._get(\"tileInfo\");t!==e&&(null!=e&&null!=t&&JSON.stringify(e)===JSON.stringify(t)||(this._set(\"tileInfo\",e),this.store.tileInfo=e))}set tileSize(e){this._get(\"tileSize\")!==e&&this._set(\"tileSize\",e)}get updating(){return this.updatingExcludingEdits||this._pendingEdits.updating}get updatingExcludingEdits(){return this.updatingHandles.updating}get hasZ(){return this.store.featureStore.hasZ}constructor(e){super(e),this.tilesOfInterest=[],this.availability=0,this._pendingTiles=new Map,this._pendingEdits=new i,this._pendingEditsAbortController=new AbortController}initialize(){this._initializeFetchExtent(),this.updatingHandles.add((()=>this._configuration),(()=>this.refresh())),this.updatingHandles.add((()=>this.tilesOfInterest),((e,i)=>{t(e,i,(({id:e},{id:t})=>e===t))||this._process()}),l)}destroy(){this._pendingTiles.forEach((e=>this._deletePendingTile(e))),this._pendingTiles.clear(),this.store.destroy(),this.tilesOfInterest.length=0,this._pendingEditsAbortController.abort(),this._pendingEditsAbortController=null}refresh(){this.store.refresh(),this._pendingTiles.forEach((e=>this._deletePendingTile(e))),this._process()}applyEdits(e){this._pendingEdits.push(e,(async e=>{if(0===e.addedFeatures.length&&0===e.updatedFeatures.length&&0===e.deletedFeatures.length)return;for(const[,i]of this._pendingTiles)i.reset();const t={...e,deletedFeatures:e.deletedFeatures.map((({objectId:e,globalId:t})=>e&&-1!==e?e:this._lookupObjectIdByGlobalId(t)))};await this.updatingHandles.addPromise(this.store.processEdits(t,((e,t)=>this._queryFeaturesById(e,t)),this._pendingEditsAbortController.signal)),this._processPendingTiles()}))}_initializeFetchExtent(){if(!this.capabilities.query.supportsExtent||!y(this.url))return;const e=s((async e=>{try{const t=await m(this.url,new F({where:\"1=1\",outSpatialReference:this.spatialReference,cacheHint:this.capabilities.query.supportsCacheHint??void 0}),{query:this._configuration.customParameters,signal:e});this.store.extent=d.fromJSON(t.data?.extent)}catch(t){a(t),o.getLogger(this).warn(\"Failed to fetch data extent\",t)}}));this.updatingHandles.addPromise(e.promise.then((()=>this._process()))),this.handles.add(n((()=>e.abort())))}get debugInfo(){return{numberOfFeatures:this.store.featureStore.numFeatures,tilesOfInterest:this.tilesOfInterest,pendingTiles:Array.from(this._pendingTiles.values()).map((e=>e.debugInfo)),storedTiles:this.store.debugInfo}}_process(){this._markTilesNotAlive(),this._createPendingTiles(),this._deletePendingTiles(),this._processPendingTiles()}_markTilesNotAlive(){for(const[,e]of this._pendingTiles)e.alive=!1}_createPendingTiles(){const e=this._collectMissingTilesInfo();if(this._setAvailability(null==e?1:e.coveredArea/e.fullArea),null!=e)for(const{data:t,resolution:i}of e.missingTiles){const e=this._pendingTiles.get(t.id);e?(e.resolution=i,e.alive=!0):this._createPendingTile(t,i)}}_collectMissingTilesInfo(){let e=null;for(let t=this.tilesOfInterest.length-1;t>=0;t--){const i=this.tilesOfInterest[t],s=this.store.process(i,((e,t)=>this._verifyTileComplexity(e,t)));null==e?e=s:e.prepend(s)}return e}_deletePendingTiles(){for(const[,e]of this._pendingTiles)e.alive||this._deletePendingTile(e)}_processPendingTiles(){const e={fetchCount:(e,t)=>this._fetchCount(e,t),fetchFeatures:(e,t,i)=>this._fetchFeatures(e,t,i),finish:(e,t)=>this._finishPendingTile(e,t),resume:()=>this._processPendingTiles()};if(this._ensureFetchAllCounts(e))for(const[,t]of this._pendingTiles)this._verifyTileComplexity(this.store.getFeatureCount(t.data),t.resolution)&&this.updatingHandles.addPromise(t.process(e))}_verifyTileComplexity(e,t){return this._verifyVertexComplexity(e)&&this._verifyFeatureDensity(e,t)}_verifyVertexComplexity(e){return e*this._minimumVerticesPerFeature<C}_verifyFeatureDensity(e,t){if(null==this.tileInfo)return!1;const i=this.tileSize*t;return e*(E/(i*i))<S}_ensureFetchAllCounts(e){let t=!0;for(const[,i]of this._pendingTiles)i.state.type<T.FETCHED_COUNT&&this.updatingHandles.addPromise(i.process(e)),i.state.type<=T.FETCH_COUNT&&(t=!1);return t}_finishPendingTile(e,t){this.store.add(e.data,t),this._deletePendingTile(e),this._updateAvailability()}_updateAvailability(){const e=this._collectMissingTilesInfo();this._setAvailability(null==e?1:e.coveredArea/e.fullArea)}_setAvailability(e){this._set(\"availability\",e)}_createPendingTile(e,t){const i=new P(e,t);return this._pendingTiles.set(e.id,i),i}_deletePendingTile(e){e.reset(),this._pendingTiles.delete(e.data.id)}async _fetchCount(e,t){return this.store.fetchCount(e.data,this.url,this._createCountQuery(e),{query:this.customParameters,timeout:O,signal:t})}async _fetchFeatures(e,t,i){let s=0;const r=[];let n=0,o=t;for(;;){const a=this._createFeaturesQuery(e),l=this._setPagingParameters(a,s,o),{features:u,exceededTransferLimit:c}=await this._queryFeatures(a,i);l&&(s+=a.num),n+=u.length;for(const e of u)r.push(e);if(o=t-n,!l||!c||o<=0)return r}}_filterProperties(e){return null==e?{where:\"1=1\",gdbVersion:void 0,timeExtent:void 0}:{where:e.where||\"1=1\",timeExtent:e.timeExtent,gdbVersion:e.gdbVersion}}_lookupObjectIdByGlobalId(e){const t=this.globalIdField,i=this.objectIdField;if(null==t)throw new Error(\"Expected globalIdField to be defined\");let s=null;if(this.store.featureStore.forEach((r=>{e===r.attributes[t]&&(s=r.objectId??r.attributes[i])})),null==s)throw new Error(`Expected to find a feature with globalId ${e}`);return s}_queryFeaturesById(e,t){const i=this._createFeaturesQuery();return i.objectIds=e,this._queryFeatures(i,t)}_queryFeatures(e,t){return this.capabilities.query.supportsFormatPBF?this._queryFeaturesPBF(e,t):this._queryFeaturesJSON(e,t)}async _queryFeaturesPBF(e,t){const{sourceSpatialReference:i}=this,{data:s}=await _(this.url,e,new g({sourceSpatialReference:i}),{query:this._configuration.customParameters,timeout:O,signal:t});return p(s)}async _queryFeaturesJSON(e,t){const{sourceSpatialReference:i}=this,{data:s}=await b(this.url,e,i,{query:this._configuration.customParameters,timeout:O,signal:t});return f(s,this.objectIdField)}_createCountQuery(e){const t=this._createBaseQuery(e);return this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0),t}_createFeaturesQuery(e=null){const t=this._createBaseQuery(e);return t.outFields=this.globalIdField?[this.globalIdField,this.objectIdField]:[this.objectIdField],t.returnGeometry=!0,null!=e&&(this.capabilities.query.supportsResultType?t.resultType=\"tile\":this.capabilities.query.supportsCacheHint&&(t.cacheHint=!0)),t}_createBaseQuery(e){const t=new F({returnZ:this.hasZ,returnM:!1,geometry:null!=this.tileInfo&&null!=e?h(e.data.extent,this.tileInfo.spatialReference):void 0}),i=this._configuration.filter;return null!=i&&(t.where=i.where,t.gdbVersion=i.gdbVersion,t.timeExtent=i.timeExtent),t.outSpatialReference=this.spatialReference,t}_setPagingParameters(e,t,i){if(!this.capabilities.query.supportsPagination)return!1;const{supportsMaxRecordCountFactor:s,supportsCacheHint:r,tileMaxRecordCount:n,maxRecordCount:o,supportsResultType:a}=this.capabilities.query,l=s?F.MAX_MAX_RECORD_COUNT_FACTOR:1,u=l*((a||r)&&n?n:o||v);return e.start=t,s?(e.maxRecordCountFactor=Math.min(l,Math.ceil(i/u)),e.num=Math.min(i,e.maxRecordCountFactor*u)):e.num=Math.min(i,u),!0}};e([u({constructOnly:!0})],I.prototype,\"url\",void 0),e([u({constructOnly:!0})],I.prototype,\"objectIdField\",void 0),e([u({constructOnly:!0})],I.prototype,\"globalIdField\",void 0),e([u({constructOnly:!0})],I.prototype,\"capabilities\",void 0),e([u({constructOnly:!0})],I.prototype,\"sourceSpatialReference\",void 0),e([u({constructOnly:!0})],I.prototype,\"spatialReference\",void 0),e([u({constructOnly:!0})],I.prototype,\"store\",void 0),e([u({readOnly:!0})],I.prototype,\"_minimumVerticesPerFeature\",null),e([u()],I.prototype,\"filter\",null),e([u()],I.prototype,\"customParameters\",null),e([u({readOnly:!0})],I.prototype,\"_configuration\",null),e([u()],I.prototype,\"tileInfo\",null),e([u()],I.prototype,\"tileSize\",null),e([u()],I.prototype,\"tilesOfInterest\",void 0),e([u({readOnly:!0})],I.prototype,\"updating\",null),e([u({readOnly:!0})],I.prototype,\"updatingExcludingEdits\",null),e([u({readOnly:!0})],I.prototype,\"availability\",void 0),e([u()],I.prototype,\"hasZ\",null),I=e([c(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher\")],I);const v=2e3,O=6e5,C=1e6,E=25,S=1;export{I as FeatureServiceTiledFetcher};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nclass t{constructor(){this._store=new Map,this._byteSize=0}set(t,e){this.delete(t),this._store.set(t,e),this._byteSize+=e.byteSize}delete(t){const e=this._store.get(t);return!!this._store.delete(t)&&(null!=e&&(this._byteSize-=e.byteSize),!0)}get(t){return this._used(t),this._store.get(t)}has(t){return this._used(t),this._store.has(t)}clear(){this._store.clear()}applyByteSizeLimit(t,e){for(const[s,r]of this._store){if(this._byteSize<=t)break;this.delete(s),e(r)}}values(){return this._store.values()}[Symbol.iterator](){return this._store[Symbol.iterator]()}_used(t){const e=this._store.get(t);e&&(this._store.delete(t),this._store.set(t,e))}}export{t as FeatureServiceTileCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{estimateAttributesObjectSize as s,estimateFixedArraySize as i}from\"../../../../../core/byteSizeEstimations.js\";import{ByteSizeUnit as r}from\"../../../../../core/ByteSizeUnit.js\";import{property as o}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{create as l,intersects as a,fromExtent as c,area as u}from\"../../../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as h}from\"../../../../../layers/graphics/featureConversionUtils.js\";import{BoundsStore as d}from\"../../../../../layers/graphics/data/BoundsStore.js\";import f from\"../../../../../layers/support/TileInfo.js\";import{TileKey as _}from\"../../../../../layers/support/TileKey.js\";import{executeQueryForCount as p}from\"../../../../../rest/query/operations/query.js\";import{FeatureServiceTileCache as m}from\"./FeatureServiceTileCache.js\";let g=class extends t{constructor(e){super(e),this.tileInfo=null,this.extent=null,this.maximumByteSize=10*r.MEGABYTES,this._tileBounds=new d,this._tiles=new m,this._refCounts=new Map,this._tileFeatureCounts=new Map,this._tmpBoundingRect=l()}add(e,t){const s=[];for(const i of t)this._referenceFeature(i.objectId)===I.ADDED&&s.push(i);this._addTileStorage(e,new Set(t.map((e=>e.objectId))),y(t)),this.featureStore.addMany(s),this._tiles.applyByteSizeLimit(this.maximumByteSize,(e=>this._removeTileStorage(e)))}destroy(){this.clear(),this._tileFeatureCounts.clear()}clear(){this.featureStore.clear(),this._tileBounds.clear(),this._tiles.clear(),this._refCounts.clear()}refresh(){this.clear(),this._tileFeatureCounts.clear()}processEdits(e,t,s){return this._processEditsDelete(e.deletedFeatures.concat(e.updatedFeatures)),this._processEditsRefetch(e.addedFeatures.concat(e.updatedFeatures),t,s)}_addTileStorage(e,t,s){const i=e.id;this._tiles.set(i,new E(e,t,s)),this._tileBounds.set(i,e.extent),this._tileFeatureCounts.set(i,t.size)}_remove({id:e}){const t=this._tiles.get(e);t&&this._removeTileStorage(t)}_removeTileStorage(e){const t=[];for(const i of e.objectIds)this._unreferenceFeature(i)===I.REMOVED&&t.push(i);this.featureStore.removeManyById(t);const s=e.data.id;this._tiles.delete(s),this._tileBounds.delete(s)}_processEditsDelete(e){this.featureStore.removeManyById(e);for(const[,t]of this._tiles){for(const s of e)t.objectIds.delete(s);this._tileFeatureCounts.set(t.data.id,t.objectIds.size)}for(const t of e)this._refCounts.delete(t)}async _processEditsRefetch(e,t,s){const i=(await t(e,s)).features,{hasZ:r,hasM:o}=this.featureStore;for(const n of i){const e=h(this._tmpBoundingRect,n.geometry,r,o);null!=e&&this._tileBounds.forEachInBounds(e,(e=>{const t=this._tiles.get(e);this.featureStore.add(n);const s=n.objectId;t.objectIds.has(s)||(t.objectIds.add(s),this._referenceFeature(s),this._tileFeatureCounts.set(t.data.id,t.objectIds.size))}))}}process(e,t=(()=>!0)){if(null==this.tileInfo||!e.extent||null!=this.extent&&!a(c(this.extent,this._tmpBoundingRect),e.extent))return new T(e);if(this._tiles.has(e.id))return new T(e);const s=this._createTileTree(e,this.tileInfo);return this._simplify(s,t,null,0,1),this._collectMissingTiles(e,s,this.tileInfo)}get debugInfo(){return Array.from(this._tiles.values()).map((({data:e})=>({data:e,featureCount:this._tileFeatureCounts.get(e.id)||0})))}getFeatureCount(e){return this._tileFeatureCounts.get(e.id)??0}async fetchCount(e,t,s,i){const r=this._tileFeatureCounts.get(e.id);if(null!=r)return r;const o=await p(t,s,i);return this._tileFeatureCounts.set(e.id,o.data.count),o.data.count}_createTileTree(e,t){const s=new S(e.level,e.row,e.col);return t.updateTileInfo(s,f.ExtrapolateOptions.POWER_OF_TWO),this._tileBounds.forEachInBounds(e.extent,(i=>{const r=this._tiles.get(i)?.data;r&&this._tilesAreRelated(e,r)&&this._populateChildren(s,r,t,this._tileFeatureCounts.get(r.id)||0)})),s}_tilesAreRelated(e,t){if(!e||!t)return!1;if(e.level===t.level)return e.row===t.row&&e.col===t.col;const s=e.level<t.level,i=s?e:t,r=s?t:e,o=1<<r.level-i.level;return Math.floor(r.row/o)===i.row&&Math.floor(r.col/o)===i.col}_populateChildren(e,t,s,i){const r=t.level-e.level-1;if(r<0)return void(e.isLeaf=!0);const o=t.row>>r,n=t.col>>r,l=e.row<<1,a=n-(e.col<<1)+(o-l<<1),c=e.children[a];if(null!=c)this._populateChildren(c,t,s,i);else{const r=new S(e.level+1,o,n);s.updateTileInfo(r,f.ExtrapolateOptions.POWER_OF_TWO),e.children[a]=r,this._populateChildren(r,t,s,i)}}_simplify(e,t,s,i,r){const o=r*r;if(e.isLeaf)return t(this.getFeatureCount(e),r)?0:(this._remove(e),null!=s&&(s.children[i]=null),o);const n=r/2,l=n*n;let a=0;for(let c=0;c<e.children.length;c++){const s=e.children[c];a+=null!=s?this._simplify(s,t,e,c,n):l}return 0===a?this._mergeChildren(e):1-a/o<j&&(this._purge(e),null!=s&&(s.children[i]=null),a=o),a}_mergeChildren(e){const t=new Set;let s=0;this._forEachLeaf(e,(e=>{const i=this._tiles.get(e.id);if(i){s+=i.byteSize;for(const e of i.objectIds)t.has(e)||(t.add(e),this._referenceFeature(e));this._remove(e)}})),this._addTileStorage(e,t,s),e.isLeaf=!0,e.children[0]=e.children[1]=e.children[2]=e.children[3]=null,this._tileFeatureCounts.set(e.id,t.size)}_forEachLeaf(e,t){for(const s of e.children)null!=s&&(s.isLeaf?t(s):this._forEachLeaf(s,t))}_purge(e){if(null!=e)if(e.isLeaf)this._remove(e);else for(let t=0;t<e.children.length;t++){const s=e.children[t];this._purge(s),e.children[t]=null}}_collectMissingTiles(e,t,s){const i=new F(s,e,this.extent);return this._collectMissingTilesRecurse(t,i,1),i.info}_collectMissingTilesRecurse(e,t,s){if(e.isLeaf)return;if(!e.hasChildren)return void t.addMissing(e.level,e.row,e.col,s);const i=s/2;for(let r=0;r<e.children.length;r++){const s=e.children[r];null==s?t.addMissing(e.level+1,(e.row<<1)+((2&r)>>1),(e.col<<1)+(1&r),i):this._collectMissingTilesRecurse(s,t,i)}}_referenceFeature(e){const t=(this._refCounts.get(e)||0)+1;return this._refCounts.set(e,t),1===t?I.ADDED:I.UNCHANGED}_unreferenceFeature(e){const t=(this._refCounts.get(e)||0)-1;return 0===t?(this._refCounts.delete(e),I.REMOVED):(t>0&&this._refCounts.set(e,t),I.UNCHANGED)}get test(){return{tiles:Array.from(this._tiles.values()).map((e=>`${e.data.id}:[${Array.from(e.objectIds)}]`)),featureReferences:Array.from(this._refCounts.keys()).map((e=>`${e}:${this._refCounts.get(e)}`))}}};function y(e){return e.reduce(((e,t)=>e+v(t)),0)}function v(e){return 32+C(e.geometry)+s(e.attributes)}function C(e){if(null==e)return 0;const t=i(e.lengths,4);return 32+i(e.coords,8)+t}e([o({constructOnly:!0})],g.prototype,\"featureStore\",void 0),e([o()],g.prototype,\"tileInfo\",void 0),e([o()],g.prototype,\"extent\",void 0),e([o()],g.prototype,\"maximumByteSize\",void 0),g=e([n(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTileStore\")],g);class E{constructor(e,t,s){this.data=e,this.objectIds=t,this.byteSize=s}}class S{constructor(e,t,s){this.level=e,this.row=t,this.col=s,this.isLeaf=!1,this.extent=null,this.children=[null,null,null,null]}get hasChildren(){return!this.isLeaf&&(null!=this.children[0]||null!=this.children[1]||null!=this.children[2]||null!=this.children[3])}}class T{constructor(e,t=[]){this.missingTiles=t,this.fullArea=0,this.coveredArea=0,this.fullArea=u(e.extent),this.coveredArea=this.fullArea}prepend(e){this.missingTiles=e.missingTiles.concat(this.missingTiles),this.coveredArea+=e.coveredArea,this.fullArea+=e.fullArea}}class F{constructor(e,t,s){this._tileInfo=e,this._extent=null,this.info=new T(t),null!=s&&(this._extent=c(s))}addMissing(e,t,s,i){const r=new _(null,e,t,s);this._tileInfo.updateTileInfo(r,f.ExtrapolateOptions.POWER_OF_TWO),null==r.extent||null!=this._extent&&!a(this._extent,r.extent)||(this.info.missingTiles.push({data:r,resolution:i}),this.info.coveredArea-=u(r.extent))}}const j=.18751;var I;!function(e){e[e.ADDED=0]=\"ADDED\",e[e.REMOVED=1]=\"REMOVED\",e[e.UNCHANGED=2]=\"UNCHANGED\"}(I||(I={}));export{g as FeatureServiceTileStore,T as ProcessResult};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Evented.js\";import i from\"../../../../../core/Handles.js\";import{createResolver as r,throwIfAborted as s}from\"../../../../../core/promiseUtils.js\";import{watch as n,whenOnce as a,sync as o}from\"../../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/accessorSupport/ensureType.js\";import\"../../../../../core/arrayUtils.js\";import\"../../../../../core/has.js\";import{subclass as d}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{WatchUpdatingTracking as p}from\"../../../../../core/support/WatchUpdatingTracking.js\";import u from\"../../../../../geometry/SpatialReference.js\";import c from\"../../../../../layers/graphics/data/FeatureStore.js\";import{QueryEngine as h}from\"../../../../../layers/graphics/data/QueryEngine.js\";import g from\"../../../../../layers/support/TileInfo.js\";import f from\"../../../../../rest/support/Query.js\";import m from\"../../../../../symbols/support/ElevationInfo.js\";import{getSnappingCandidateElevationAligner as y}from\"../snappingCandidateElevationAlignment.js\";import{getSnappingCandidateElevationFilter as _}from\"../snappingCandidateElevationFilter.js\";import{getSymbologySnappingCandidatesFetcher as S}from\"../symbologySnappingCandidates.js\";import{FeatureServiceTiledFetcher as v}from\"./FeatureServiceTiledFetcher.js\";import{FeatureServiceTileStore as F}from\"./FeatureServiceTileStore.js\";let I=class extends t.EventedAccessor{constructor(){super(...arguments),this._isInitializing=!0,this.remoteClient=null,this._whenSetup=r(),this._elevationAligner=y(),this._elevationFilter=_(),this._symbologyCandidatesFetcher=S(),this._handles=new i,this._updatingHandles=new p,this._editsUpdatingHandles=new p,this._pendingApplyEdits=new Map,this._alignPointsInFeatures=async(e,t)=>{const i={points:e},r=await this.remoteClient.invoke(\"alignElevation\",i,{signal:t});return s(t),r},this._getSymbologyCandidates=async(e,t)=>{const i={candidates:e,spatialReference:this._spatialReference.toJSON()},r=await this.remoteClient.invoke(\"getSymbologyCandidates\",i,{signal:t});return s(t),r}}get updating(){return this.updatingExcludingEdits||this._editsUpdatingHandles.updating||this._featureFetcher.updating}get updatingExcludingEdits(){return this._featureFetcher.updatingExcludingEdits||this._isInitializing||this._updatingHandles.updating}destroy(){this._featureFetcher?.destroy(),this._queryEngine?.destroy(),this._featureStore?.clear(),this._handles?.destroy()}async setup(e){if(this.destroyed)return{result:{}};const{geometryType:t,objectIdField:i,timeInfo:r,fields:s}=e.serviceInfo,{hasZ:a}=e,l=u.fromJSON(e.spatialReference);this._spatialReference=l,this._featureStore=new c({...e.serviceInfo,hasZ:a,hasM:!1}),this._queryEngine=new h({spatialReference:e.spatialReference,featureStore:this._featureStore,geometryType:t,fields:s,hasZ:a,hasM:!1,objectIdField:i,timeInfo:r}),this._featureFetcher=new v({store:new F({featureStore:this._featureStore}),url:e.serviceInfo.url,objectIdField:e.serviceInfo.objectIdField,globalIdField:e.serviceInfo.globalIdField,capabilities:e.serviceInfo.capabilities,spatialReference:l,sourceSpatialReference:u.fromJSON(e.serviceInfo.spatialReference)});const d=\"3d\"===e.configuration.viewType;return this._elevationAligner=y(d,{elevationInfo:null!=e.elevationInfo?m.fromJSON(e.elevationInfo):null,alignPointsInFeatures:this._alignPointsInFeatures,spatialReference:l}),this._elevationFilter=_(d),this._handles.add([n((()=>this._featureFetcher.availability),(e=>this.emit(\"notify-availability\",{availability:e})),o),n((()=>this.updating),(()=>this._notifyUpdating()))]),this._whenSetup.resolve(),this._isInitializing=!1,this.configure(e.configuration)}async configure(e){return await this._updatingHandles.addPromise(this._whenSetup.promise),this._updateFeatureFetcherConfiguration(e),{result:{}}}async fetchCandidates(e,t){await this._whenSetup.promise,s(t);const i=E(e),r=null!=t?t.signal:null,n=await this._queryEngine.executeQueryForSnapping(i,r);s(r);const a=await this._elevationAligner.alignCandidates(n.candidates,r);s(r);const o=await this._symbologyCandidatesFetcher.fetch(a,r);s(r);const l=0===o.length?a:a.concat(o);return{result:{candidates:this._elevationFilter.filter(i,l)}}}async updateTiles(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),s(t),this._featureFetcher.tileSize=e.tileSize,this._featureFetcher.tilesOfInterest=e.tiles,this._featureFetcher.tileInfo=null!=e.tileInfo?g.fromJSON(e.tileInfo):null,b}async refresh(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),s(t),this._featureFetcher.refresh(),b}async whenNotUpdating(e,t){return await this._updatingHandles.addPromise(this._whenSetup.promise),s(t),await a((()=>!this.updatingExcludingEdits),t),s(t),b}async getDebugInfo(e,t){return s(t),{result:this._featureFetcher.debugInfo}}async beginApplyEdits(e,t){this._updatingHandles.addPromise(this._whenSetup.promise),s(t);const i=r();return this._pendingApplyEdits.set(e.id,i),this._featureFetcher.applyEdits(i.promise),this._editsUpdatingHandles.addPromise(i.promise),b}async endApplyEdits(e,t){const i=this._pendingApplyEdits.get(e.id);return i&&i.resolve(e.edits),s(t),b}async notifyElevationSourceChange(e,t){return this._elevationAligner.notifyElevationSourceChange(),b}async notifySymbologyChange(e,t){return this._symbologyCandidatesFetcher.notifySymbologyChange(),b}async setSymbologySnappingSupported(e){return this._symbologyCandidatesFetcher=S(e,this._getSymbologyCandidates),b}_updateFeatureFetcherConfiguration(e){this._featureFetcher.filter=null!=e.filter?f.fromJSON(e.filter):null,this._featureFetcher.customParameters=e.customParameters}_notifyUpdating(){this.emit(\"notify-updating\",{updating:this.updating})}};e([l({readOnly:!0})],I.prototype,\"updating\",null),e([l({readOnly:!0})],I.prototype,\"updatingExcludingEdits\",null),e([l()],I.prototype,\"_isInitializing\",void 0),I=e([d(\"esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorker\")],I);const w=I;function E(e){return{point:e.point,mode:e.mode,distance:e.distance,returnEdge:e.returnEdge,returnVertex:e.returnVertex,query:null!=e.filter?e.filter:{where:\"1=1\"}}}const b={result:{}};export{w as default};\n"],"names":["r","length","t","e","f","o","hasOwnProperty","u","Array","isArray","n","i","c","elevationInfo","s","alignPointsInFeatures","spatialReference","a","this","_elevationInfo","_alignPointsInFeatures","_alignmentsCache","_cacheVersion","_metersPerVerticalUnit","mode","featureExpressionInfo","_alignComputedElevationCandidates","_alignAbsoluteElevationCandidates","clear","offset","unit","type","start","z","end","target","Map","objectId","d","push","_prepareQuery","_applyCacheAndResponse","l","drapedObjectIds","h","failedObjectIds","has","draped","_addToQueriesOrCachedResult","points","get","elevations","apply","put","point","x","y","distance","_updateCandidatesTo3D","filter","sort","Math","min","max","sqrt","_getSymbologyCandidates","_candidatesCache","candidates","sourceCandidateIndices","fetch","g","concat","toString","arguments","updating","_pending","promise","callback","_process","then","catch","shift","prototype","data","resolution","state","CREATED","alive","_gotoFetchCount","task","resume","FETCH_COUNT","FETCHED_COUNT","_gotoFetchFeatures","FETCH_FEATURES","FETCHED_FEATURES","_goToDone","DONE","featureCount","_featureCount","_stateToString","previous","features","fetchCount","_gotoFetchedCount","ok","value","fetchFeatures","E","_gotoFetchedFeatures","finish","abort","extent","T","I","tilesOfInterest","availability","_pendingTiles","_pendingEdits","_pendingEditsAbortController","AbortController","store","featureStore","geometryType","set","_get","_filterProperties","JSON","stringify","_set","customParameters","tileInfo","tileSize","updatingExcludingEdits","updatingHandles","hasZ","_initializeFetchExtent","add","_configuration","refresh","id","forEach","_deletePendingTile","destroy","addedFeatures","updatedFeatures","deletedFeatures","reset","map","globalId","_lookupObjectIdByGlobalId","addPromise","processEdits","_queryFeaturesById","signal","_processPendingTiles","capabilities","query","supportsExtent","url","m","F","where","outSpatialReference","cacheHint","supportsCacheHint","warn","handles","numberOfFeatures","numFeatures","pendingTiles","from","values","debugInfo","storedTiles","_markTilesNotAlive","_createPendingTiles","_deletePendingTiles","_collectMissingTilesInfo","_setAvailability","coveredArea","fullArea","missingTiles","_createPendingTile","process","_verifyTileComplexity","prepend","_fetchCount","_fetchFeatures","_finishPendingTile","_ensureFetchAllCounts","getFeatureCount","_verifyVertexComplexity","_verifyFeatureDensity","_minimumVerticesPerFeature","C","S","_updateAvailability","P","delete","_createCountQuery","timeout","O","_createFeaturesQuery","_setPagingParameters","_queryFeatures","exceededTransferLimit","num","gdbVersion","timeExtent","globalIdField","objectIdField","Error","attributes","objectIds","supportsFormatPBF","_queryFeaturesPBF","_queryFeaturesJSON","sourceSpatialReference","_","p","b","_createBaseQuery","outFields","returnGeometry","supportsResultType","resultType","returnZ","returnM","geometry","supportsPagination","supportsMaxRecordCountFactor","tileMaxRecordCount","maxRecordCount","v","maxRecordCountFactor","ceil","constructOnly","readOnly","_store","_byteSize","byteSize","_used","Symbol","iterator","maximumByteSize","_tileBounds","_tiles","_refCounts","_tileFeatureCounts","_tmpBoundingRect","_referenceFeature","ADDED","_addTileStorage","Set","reduce","lengths","coords","addMany","applyByteSizeLimit","_removeTileStorage","_processEditsDelete","_processEditsRefetch","size","_unreferenceFeature","REMOVED","removeManyById","hasM","forEachInBounds","_createTileTree","_simplify","_collectMissingTiles","count","level","row","col","updateTileInfo","_tilesAreRelated","_populateChildren","floor","isLeaf","children","_remove","_mergeChildren","j","_purge","_forEachLeaf","_collectMissingTilesRecurse","info","hasChildren","addMissing","UNCHANGED","tiles","featureReferences","keys","_tileInfo","_extent","_isInitializing","remoteClient","_whenSetup","_elevationAligner","_elevationFilter","_symbologyCandidatesFetcher","_handles","_updatingHandles","_editsUpdatingHandles","_pendingApplyEdits","invoke","_spatialReference","toJSON","_featureFetcher","_queryEngine","_featureStore","destroyed","result","serviceInfo","timeInfo","fields","configuration","viewType","emit","_notifyUpdating","resolve","configure","_updateFeatureFetcherConfiguration","executeQueryForSnapping","alignCandidates","applyEdits","edits","notifyElevationSourceChange","notifySymbologyChange","w","returnEdge","returnVertex"],"sourceRoot":""}