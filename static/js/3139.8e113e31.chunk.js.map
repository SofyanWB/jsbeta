{"version":3,"file":"static/js/3139.8e113e31.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/portal/support/portalLayers.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{sceneServiceLayerTypeToClassName as r}from\"../../layers/support/layerUtils.js\";import{layerLookupMap as a}from\"../../layers/support/lazyLayerLoader.js\";import t from\"../PortalItem.js\";import{getNumLayersAndTables as n,preprocessFSItemData as s,getSubtypeGroupLayerIds as c,getFirstLayerOrTableId as o}from\"./layersLoader.js\";import{hasTypeKeyword as i}from\"./portalItemUtils.js\";import{fetchArcGISServiceJSON as u}from\"../../support/requestPresets.js\";async function l(e){!e.portalItem||e.portalItem instanceof t||(e={...e,portalItem:new t(e.portalItem)});const r=await y(e.portalItem);return new(0,r.constructor)({portalItem:e.portalItem,...r.properties})}async function y(e){await e.load();return p(await m(e))}async function m(r){switch(r.type){case\"Map Service\":return f(r);case\"Feature Service\":return L(r);case\"Feature Collection\":return w(r);case\"Scene Service\":return N(r);case\"Image Service\":return d(r);case\"Stream Service\":return S();case\"Vector Tile Service\":return I();case\"GeoJson\":return g();case\"CSV\":return T();case\"KML\":return j();case\"WFS\":return v();case\"WMTS\":return F();case\"WMS\":return M();case\"Feed\":return G();default:throw new e(\"portal:unknown-item-type\",\"Unknown item type '${type}'\",{type:r.type})}}async function p(e){const r=e.className,t=a[r];return{constructor:await t(),properties:e.properties}}async function f(e){return await b(e)?{className:\"TileLayer\"}:{className:\"MapImageLayer\"}}async function L(e){if(i(e,\"Oriented Imagery Layer\"))return h(e);const r=await C(e);if(\"object\"==typeof r){const e={};return null!=r.id&&(e.layerId=r.id),{className:r.className||\"FeatureLayer\",properties:e}}return{className:\"GroupLayer\"}}async function N(e){const a=await C(e);if(\"object\"==typeof a){const t={};let n;if(null!=a.id?(t.layerId=a.id,n=`${e.url}/layers/${a.id}`):n=e.url,e.typeKeywords?.length)for(const a of Object.keys(r))if(e.typeKeywords.includes(a))return{className:r[a]};const s=await u(n);return{className:r[s?.layerType]||\"SceneLayer\",properties:t}}if(!1===a){const r=await u(e.url);return\"Voxel\"===r?.layerType?{className:\"VoxelLayer\"}:{className:\"GroupLayer\"}}return{className:\"GroupLayer\"}}async function w(e){await e.load();const r=i(e,\"Map Notes\"),a=i(e,\"Markup\");if(r||a)return{className:\"MapNotesLayer\"};if(i(e,\"Route Layer\"))return{className:\"RouteLayer\"};const t=await e.fetchData();return 1===n(t)?{className:\"FeatureLayer\"}:{className:\"GroupLayer\"}}async function d(e){await e.load();const r=e.typeKeywords?.map((e=>e.toLowerCase()))??[];if(r.includes(\"elevation 3d layer\"))return{className:\"ElevationLayer\"};if(r.includes(\"tiled imagery\"))return{className:\"ImageryTileLayer\"};const a=await e.fetchData(),t=a?.layerType;if(\"ArcGISTiledImageServiceLayer\"===t)return{className:\"ImageryTileLayer\"};if(\"ArcGISImageServiceLayer\"===t)return{className:\"ImageryLayer\"};const n=await u(e.url),s=n.cacheType?.toLowerCase(),c=n.capabilities?.toLowerCase().includes(\"tilesonly\");return\"map\"===s||c?{className:\"ImageryTileLayer\"}:{className:\"ImageryLayer\"}}function S(){return{className:\"StreamLayer\"}}function I(){return{className:\"VectorTileLayer\"}}function g(){return{className:\"GeoJSONLayer\"}}function T(){return{className:\"CSVLayer\"}}function j(){return{className:\"KMLLayer\"}}function v(){return{className:\"WFSLayer\"}}function M(){return{className:\"WMSLayer\"}}function F(){return{className:\"WMTSLayer\"}}function G(){return{className:\"StreamLayer\"}}async function h(e){await e.load();return{className:\"OrientedImageryLayer\",properties:await e.fetchData()}}async function b(e){return(await u(e.url)).tileInfo}async function C(e){const r=e.url;if(!r||/\\/\\d+$/.test(r))return{};await e.load();const a=await e.fetchData();if(\"Feature Service\"===e.type){const e=V(await s(a,r));if(\"object\"==typeof e){const r=c(a);e.className=null!=e.id&&r.includes(e.id)?\"SubtypeGroupLayer\":\"FeatureLayer\"}return e}if(n(a)>0)return V(a);return V(await u(r))}function V(e){return 1===n(e)&&{id:o(e)}}export{l as fromItem,m as selectLayerClassPath};\n"],"names":["l","e","portalItem","t","y","r","constructor","properties","load","p","m","type","f","L","w","N","d","className","a","b","i","h","C","id","layerId","n","url","typeKeywords","length","Object","keys","includes","u","s","layerType","fetchData","map","toLowerCase","cacheType","c","capabilities","tileInfo","test","V","o"],"sourceRoot":""}