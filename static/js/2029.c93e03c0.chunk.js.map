{"version":3,"file":"static/js/2029.c93e03c0.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/webgl/BufferObject.js","../node_modules/@arcgis/core/views/webgl/FramebufferObject.js","../node_modules/@arcgis/core/views/webgl/Renderbuffer.js","../node_modules/@arcgis/core/views/webgl/RenderbufferDescriptor.js","../node_modules/@arcgis/core/views/webgl/VertexArrayObject.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{isArrayLike as e}from\"../../core/arrayUtils.js\";import t from\"../../core/Logger.js\";import{nullifyNonNullableForDispose as r}from\"../../core/maybe.js\";import{isUint16Array as i,isUint32Array as s}from\"../../core/typedArrayUtil.js\";import{checkWebGLError as n}from\"./checkWebGLError.js\";import{ContextType as o}from\"./contextUtils.js\";import{BufferType as a,Usage as f,ResourceType as u,DataType as _}from\"./enums.js\";const h=t.getLogger(\"esri.views.webgl.BufferObject\");class c{static createIndex(e,t,r){return new c(e,a.ELEMENT_ARRAY_BUFFER,t,r)}static createVertex(e,t,r){return new c(e,a.ARRAY_BUFFER,t,r)}static createUniform(e,t,r){if(e.type!==o.WEBGL2)throw new Error(\"Uniform buffers are supported in WebGL2 only!\");return new c(e,a.UNIFORM_BUFFER,t,r)}static createPixelPack(e,t=f.STREAM_READ,r){if(e.type!==o.WEBGL2)throw new Error(\"Pixel pack buffers are supported in WebGL2 only!\");const i=new c(e,a.PIXEL_PACK_BUFFER,t);return r&&i.setSize(r),i}static createPixelUnpack(e,t=f.STREAM_DRAW,r){if(e.type!==o.WEBGL2)throw new Error(\"Pixel unpack buffers are supported in WebGL2 only!\");return new c(e,a.PIXEL_UNPACK_BUFFER,t,r)}constructor(e,t,r,i){this._context=e,this.bufferType=t,this.usage=r,this._glName=null,this._size=-1,this._indexType=void 0,e.instanceCounter.increment(u.BufferObject,this),this._glName=this._context.gl.createBuffer(),n(this._context.gl),i&&this.setData(i)}get glName(){return this._glName}get size(){return this._size}get indexType(){return this._indexType}get byteLength(){return this.bufferType===a.ELEMENT_ARRAY_BUFFER?this._indexType===_.UNSIGNED_INT?4*this._size:2*this._size:this._size}get _isVAOAware(){return this.bufferType===a.ELEMENT_ARRAY_BUFFER||this.bufferType===a.ARRAY_BUFFER}dispose(){if(this._context?.gl){if(this._glName){this._context.gl.deleteBuffer(this._glName),this._glName=null}this._context.instanceCounter.decrement(u.BufferObject,this),this._context=r(this._context)}else this._glName&&h.warn(\"Leaked WebGL buffer object\")}setSize(e,t=null){if(e<=0&&h.error(\"Buffer size needs to be positive!\"),this.bufferType===a.ELEMENT_ARRAY_BUFFER&&null!=t)switch(this._indexType=t,t){case _.UNSIGNED_SHORT:e*=2;break;case _.UNSIGNED_INT:e*=4}this._setBufferData(e)}setData(e){if(!e)return;let t=e.byteLength;this.bufferType===a.ELEMENT_ARRAY_BUFFER&&(i(e)&&(t/=2,this._indexType=_.UNSIGNED_SHORT),s(e)&&(t/=4,this._indexType=_.UNSIGNED_INT)),this._setBufferData(t,e)}_setBufferData(e,t=null){this._size=e;const r=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const i=this._context.gl;null!=t?i.bufferData(this.bufferType,t,this.usage):i.bufferData(this.bufferType,e,this.usage),n(i),this._isVAOAware&&this._context.bindVAO(r)}setSubData(e,t,r,i){if(!e)return;(t<0||t*e.BYTES_PER_ELEMENT>=this.byteLength)&&h.error(\"offset is out of range!\"),r>=i&&h.error(\"end must be bigger than start!\"),(t+(i-r))*e.BYTES_PER_ELEMENT>this.byteLength&&h.error(\"An attempt to write beyond the end of the buffer!\");const s=this._context.getBoundVAO();this._isVAOAware&&this._context.bindVAO(null),this._context.bindBuffer(this);const a=this._context.gl;if(this._context.type===o.WEBGL2)a.bufferSubData(this.bufferType,t*e.BYTES_PER_ELEMENT,e,r,i-r);else{const s=0===r&&i===e.length?e:e.subarray(r,i);a.bufferSubData(this.bufferType,t*e.BYTES_PER_ELEMENT,s)}n(a),this._isVAOAware&&this._context.bindVAO(s)}getSubData(e,t=0,r,i){if(this._context.type!==o.WEBGL2)return void h.error(\"Get buffer subdata is supported in WebGL2 only!\");if(r<0||i<0)return void h.error(\"Problem getting subdata: offset and length were less than zero!\");const s=E(e)?e.BYTES_PER_ELEMENT:1;if(s*((r??0)+(i??0))>e.byteLength)return void h.error(\"Problem getting subdata: offset and length exceeded destination size!\");t+s*(i??0)>this.byteLength&&h.warn(\"Potential problem getting subdata: requested data exceeds buffer size!\");const n=this._context.gl;this._context.bindBuffer(this,a.COPY_READ_BUFFER),n.getBufferSubData(a.COPY_READ_BUFFER,t,e,r,i),this._context.unbindBuffer(a.COPY_READ_BUFFER)}async getSubDataAsync(e,t=0,r,i){this._context.type===o.WEBGL2?(await this._context.clientWaitAsync(),this.getSubData(e,t,r,i)):h.error(\"Get buffer subdata is supported in WebGL2 only!\")}}function E(t){return e(t)}export{c as BufferObject};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport\"../../core/has.js\";import t from\"../../core/Logger.js\";import{disposeMaybe as e}from\"../../core/maybe.js\";import{BufferObject as i}from\"./BufferObject.js\";import{webglDebugEnabled as r}from\"./checkWebGLError.js\";import{ContextType as s}from\"./contextUtils.js\";import{ResourceType as h,ColorAttachment as n,RenderbufferFormat as o,PixelFormat as c,PixelType as a,DepthStencilAttachment as u,FramebufferTarget as _,TextureType as f,Usage as l,BufferType as T}from\"./enums.js\";import{GLObjectType as d}from\"./GLObjectType.js\";import{Renderbuffer as m}from\"./Renderbuffer.js\";import{Texture as p}from\"./Texture.js\";const E=t.getLogger(\"esri.views.webgl.FramebufferObject\");class x{constructor(t,e,i=null){this._context=t,this._glName=null,this._colorAttachments=new Map,this._depthBuffer=null,this._stencilBuffer=null,this._depthStencilTexture=null,this._initialized=!1,t.instanceCounter.increment(h.FramebufferObject,this);const r=g(e)?e:new p(this._context,e);if(this._colorAttachments.set(n.COLOR_ATTACHMENT0,r),this._validateTextureDescriptor(r.descriptor),this._validateColorAttachmentPoint(n.COLOR_ATTACHMENT0),null!=i)if(b(i))this._context.capabilities.depthTexture||console.error(\"Setting the depth/stencil texture as an attachment requires WEBGL_depth_texture or WebGL2\"),this._depthStencilTexture=g(i)?i:new p(this._context,i),this._validateTextureDescriptor(this._depthStencilTexture.descriptor);else{const t=A(i)?i:new m(this._context,i),e=t.descriptor;e.internalFormat===o.STENCIL_INDEX8?this._stencilBuffer=t:this._depthBuffer=t,this._validateRenderBufferDescriptor(e)}}dispose(){if(0===this._colorAttachments.size&&!this._glName)return;const t=this._context.getBoundFramebufferObject();if(this._colorAttachments.forEach(((t,e)=>this.detachColorTexture(e)?.dispose())),this.detachDepthStencilBuffer()?.dispose(),this.detachDepthStencilTexture()?.dispose(),this._glName){this._context.gl.deleteFramebuffer(this._glName),this._glName=null}this._context.bindFramebuffer(t),this._context.instanceCounter.decrement(h.FramebufferObject,this)}get glName(){return this._glName}get colorTexture(){return this._colorAttachments.get(n.COLOR_ATTACHMENT0)}get depthStencilAttachment(){return this._depthStencilTexture||this._depthBuffer||this._stencilBuffer}get depthStencilTexture(){return this._depthStencilTexture}get width(){const t=this._colorAttachments.get(n.COLOR_ATTACHMENT0);return t?.descriptor?.width??0}get height(){const t=this._colorAttachments.get(n.COLOR_ATTACHMENT0);return t?.descriptor?.height??0}get gpuMemoryUsage(){return[...this._colorAttachments].reduce(((t,[e,i])=>t+i.gpuMemoryUsage),this.depthStencilAttachment?.gpuMemoryUsage??0)}getColorTexture(t){const e=this._colorAttachments.get(t);return e&&g(e)?e:null}attachColorTexture(t,e=n.COLOR_ATTACHMENT0){if(!t)return;this._validateColorAttachmentPoint(e);const i=t.descriptor;this._validateTextureDescriptor(i),this.detachColorTexture(e)?.dispose(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,e)),this._colorAttachments.set(e,t)}detachColorTexture(t=n.COLOR_ATTACHMENT0){const e=this._colorAttachments.get(t);if(e)return this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t)),this._colorAttachments.delete(t),e}setColorTextureTarget(t,e=n.COLOR_ATTACHMENT0){const i=this._colorAttachments.get(e);i&&this._framebufferTexture2D(i.glName,e,t)}attachDepthStencil(t){if(t)switch(t.type){case d.Texture:return this._attachDepthStencilTexture(t);case d.RenderBuffer:return this._attachDepthStencilBuffer(t)}}_attachDepthStencilTexture(t){if(null==t)return;const e=t.descriptor;e.pixelFormat!==c.DEPTH_STENCIL&&e.pixelFormat!==c.DEPTH24_STENCIL8&&console.error(\"Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!\"),e.dataType!==a.UNSIGNED_INT_24_8&&console.error(\"Depth/Stencil texture must have data type of UNSIGNED_INT_24_8!\"),this._context.capabilities.depthTexture||console.error(\"Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!\"),this._validateTextureDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(t.glName,u)),this._depthStencilTexture?.dispose(),this._depthStencilTexture=t}detachDepthStencilTexture(){const t=this._depthStencilTexture;return t&&this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,u)),this._depthStencilTexture=null,t}_attachDepthStencilBuffer(t){if(null==t)return;const e=t.descriptor;if(e.internalFormat!==o.DEPTH_STENCIL&&e.internalFormat!==o.DEPTH_COMPONENT16&&console.error(\"Depth/Stencil buffer must have correct internalFormat\"),this._validateRenderBufferDescriptor(e),this._disposeDepthStencilAttachments(),this._initialized){this._context.bindFramebuffer(this);const i=this._context.gl,r=this._getGLAttachmentPoint(e);i.framebufferRenderbuffer(_.FRAMEBUFFER,r,i.RENDERBUFFER,t.glName)}this._depthBuffer?.dispose(),this._depthBuffer=t}detachDepthStencilBuffer(){const t=this._depthBuffer;if(t&&this._initialized){this._context.bindFramebuffer(this);const e=this._context.gl,i=this._getGLAttachmentPoint(t.descriptor);e.framebufferRenderbuffer(_.FRAMEBUFFER,i,e.RENDERBUFFER,null),t.dispose()}return this._depthBuffer=null,t}copyToTexture(t,e,i,r,s,h,n){(t<0||e<0||s<0||h<0)&&console.error(\"Offsets cannot be negative!\"),(i<=0||r<=0)&&console.error(\"Copy width and height must be greater than zero!\");const o=n.descriptor;n.descriptor.target!==f.TEXTURE_2D&&console.error(\"Texture target must be TEXTURE_2D!\"),(null==o?.width||null==o?.height||t+i>this.width||e+r>this.height||s+i>o.width||h+r>o.height)&&console.error(\"Bad dimensions, the current input values will attempt to read or copy out of bounds!\");const c=this._context,a=c.bindTexture(n,p.TEXTURE_UNIT_FOR_UPDATES);c.setActiveTexture(p.TEXTURE_UNIT_FOR_UPDATES),c.bindFramebuffer(this),c.gl.copyTexSubImage2D(f.TEXTURE_2D,0,s,h,t,e,i,r),c.bindTexture(a,p.TEXTURE_UNIT_FOR_UPDATES)}readPixels(t,e,i,r,s,h,n){(i<=0||r<=0)&&console.error(\"Copy width and height must be greater than zero!\"),n||console.error(\"Target memory is not initialized!\"),this._context.bindFramebuffer(this);this._context.gl.readPixels(t,e,i,r,s,h,n)}async readPixelsAsync(t,e,h,n,o,c,a){if(this._context.type!==s.WEBGL2)return r()&&console.warn(\"Attempting to read pixels using pixel buffer object without WebGL2\"),void this.readPixels(t,e,h,n,o,c,a);const u=this._context.gl,_=i.createPixelPack(this._context,l.STREAM_READ,a.byteLength);this._context.bindBuffer(_),this._context.bindFramebuffer(this),u.readPixels(t,e,h,n,o,c,0),this._context.unbindBuffer(T.PIXEL_PACK_BUFFER),await _.getSubDataAsync(a),_.dispose()}resize(t,e){if(this.width===t&&this.height===e)return;const i={width:t,height:e};R(i,this._context.parameters.maxTextureSize),this._colorAttachments.forEach((t=>t.resize(i.width,i.height))),this._depthStencilTexture?.resize(i.width,i.height),this._initialized&&(R(i,this._context.parameters.maxRenderbufferSize),this._depthBuffer?.resize(i.width,i.height),this._stencilBuffer?.resize(i.width,i.height),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1)}initializeAndBind(t=_.FRAMEBUFFER){const e=this._context.gl;if(this._initialized)return void e.bindFramebuffer(t,this.glName);this._glName&&e.deleteFramebuffer(this._glName);const i=e.createFramebuffer();e.bindFramebuffer(t,i),this._colorAttachments.forEach(((e,i)=>this._framebufferTexture2D(e.glName,i,N(e),t)));const s=this._depthBuffer||this._stencilBuffer;if(s){const i=this._getGLAttachmentPoint(s.descriptor);e.framebufferRenderbuffer(t,i,e.RENDERBUFFER,s.glName)}else this._depthStencilTexture&&this._framebufferTexture2D(this._depthStencilTexture.glName,e.DEPTH_STENCIL_ATTACHMENT,N(this._depthStencilTexture),t);if(r()){e.checkFramebufferStatus(t)!==e.FRAMEBUFFER_COMPLETE&&console.error(\"Framebuffer is incomplete!\")}this._glName=i,this._initialized=!0}_framebufferTexture2D(t,e=n.COLOR_ATTACHMENT0,i=f.TEXTURE_2D,r=_.FRAMEBUFFER,s=0){this._context.gl.framebufferTexture2D(r,e,i,t,s)}_disposeDepthStencilAttachments(){const t=this._context.gl;if(this._depthBuffer){if(this._initialized){this._context.bindFramebuffer(this);const e=this._getGLAttachmentPoint(this._depthBuffer.descriptor);t.framebufferRenderbuffer(_.FRAMEBUFFER,e,t.RENDERBUFFER,null)}this._depthBuffer=e(this._depthBuffer)}this._stencilBuffer&&(this._initialized&&(this._context.bindFramebuffer(this),t.framebufferRenderbuffer(_.FRAMEBUFFER,t.STENCIL_ATTACHMENT,t.RENDERBUFFER,null)),this._stencilBuffer=e(this._stencilBuffer)),this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),this._framebufferTexture2D(null,t.DEPTH_STENCIL_ATTACHMENT)),this._depthStencilTexture=e(this._depthStencilTexture))}_validateTextureDescriptor(t){t.target!==f.TEXTURE_2D&&t.target!==f.TEXTURE_CUBE_MAP&&console.error(\"Texture type must be TEXTURE_2D or TEXTURE_CUBE_MAP!\"),R(t,this._context.parameters.maxTextureSize),this._validateBufferDimensions(t)}_validateRenderBufferDescriptor(t){R(t,this._context.parameters.maxRenderbufferSize),this._validateBufferDimensions(t)}_validateBufferDimensions(t){t.width<=0&&(t.width=this.width),t.height<=0&&(t.height=this.height),this.width>0&&this.height>0&&(this.width===t.width&&this.height===t.height||console.error(\"Attachment size must match framebuffer size!\"))}_getGLAttachmentPoint(t){switch(t.internalFormat){case o.DEPTH_COMPONENT16:case o.DEPTH_COMPONENT24:case o.DEPTH_COMPONENT32F:return this._context.gl.DEPTH_ATTACHMENT;case o.DEPTH24_STENCIL8:case o.DEPTH32F_STENCIL8:case o.DEPTH_STENCIL:return this._context.gl.DEPTH_STENCIL_ATTACHMENT;case o.STENCIL_INDEX8:return this._context.gl.STENCIL_ATTACHMENT}}_validateColorAttachmentPoint(e){if(-1===x._MAX_COLOR_ATTACHMENTS){const t=this._context.capabilities.drawBuffers;if(t){const e=this._context.gl;x._MAX_COLOR_ATTACHMENTS=e.getParameter(t.MAX_COLOR_ATTACHMENTS)}else x._MAX_COLOR_ATTACHMENTS=1}const i=e-n.COLOR_ATTACHMENT0;i+1>x._MAX_COLOR_ATTACHMENTS&&t.getLogger(\"esri.views.webgl.FrameBufferObject\").error(\"esri.FrameBufferObject\",`illegal attachment point for color attachment: ${i+1}. Implementation supports up to ${x._MAX_COLOR_ATTACHMENTS} color attachments`)}}function g(t){return null!=t&&\"type\"in t&&t.type===d.Texture}function A(t){return null!=t&&\"type\"in t&&t.type===d.RenderBuffer}function b(t){return g(t)||null!=t&&\"pixelFormat\"in t}function R(t,e){const i=Math.max(t.width,t.height);if(i>e){E.warn(`Resizing FBO attachment size ${t.width}x${t.height} to device limit ${e}`);const r=e/i;return t.width=Math.round(t.width*r),t.height=Math.round(t.height*r),!1}return!0}function N(t){return t.descriptor.target===f.TEXTURE_CUBE_MAP?f.TEXTURE_CUBE_MAP_POSITIVE_X:f.TEXTURE_2D}x._MAX_COLOR_ATTACHMENTS=-1;export{x as FramebufferObject,R as ensureAttachmentMaxSize};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{nullifyNonNullableForDispose as e}from\"../../core/maybe.js\";import{ContextType as t}from\"./contextUtils.js\";import{ResourceType as r}from\"./enums.js\";import{GLObjectType as s}from\"./GLObjectType.js\";import{estimateMemory as i}from\"./RenderbufferDescriptor.js\";class n{constructor(e,i){this._context=e,this._descriptor=i,this.type=s.RenderBuffer,this._context.instanceCounter.increment(r.Renderbuffer,this);const n=this._context.gl;this.glName=n.createRenderbuffer(),this._context.bindRenderbuffer(this);const{width:o,height:h,internalFormat:c,multisampled:f}=i;if(f){if(this._context.type!==t.WEBGL2)throw new Error(\"Multisampled renderbuffers are not supported in WebGL1!\");n.renderbufferStorageMultisample(n.RENDERBUFFER,this.samples,c,o,h)}else n.renderbufferStorage(n.RENDERBUFFER,c,o,h)}get descriptor(){return this._descriptor}get samples(){const e=this._descriptor.samples,t=this._context.parameters.maxSamples;return e?Math.min(e,t):t}get gpuMemoryUsage(){return i(this._descriptor)}resize(e,t){const r=this._descriptor;if(r.width===e&&r.height===t)return;r.width=e,r.height=t;const s=this._context.gl;if(this._context.bindRenderbuffer(this),r.multisampled){s.renderbufferStorageMultisample(s.RENDERBUFFER,this.samples,r.internalFormat,r.width,r.height)}else s.renderbufferStorage(s.RENDERBUFFER,r.internalFormat,r.width,r.height)}dispose(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(r.Renderbuffer,this),this._context=e(this._context))}}export{n as Renderbuffer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport{getBytesPerElementFormat as t}from\"./Util.js\";class i{constructor(t,i,h=i){this.internalFormat=t,this.width=i,this.height=h,this.multisampled=!1,this.samples=1}}function h(i){return i.width<=0||i.height<=0||null==i.internalFormat?0:i.width*i.height*t(i.internalFormat)}export{i as RenderbufferDescriptor,h as estimateMemory};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.27/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Logger.js\";import{disposeMaybe as e,nullifyNonNullableForDispose as i}from\"../../core/maybe.js\";import{typedArrayStaticSize as r}from\"../../core/typedArrayUtil.js\";import{ResourceType as s}from\"./enums.js\";import{bindVertexBufferLayout as n,unbindVertexBufferLayout as o}from\"./Util.js\";const f=t.getLogger(\"esri.views.webgl.VertexArrayObject\");let u=class{constructor(t,e,i,r,n=null){this._context=t,this._locations=e,this._layout=i,this._buffers=r,this._indexBuffer=n,this._glName=null,this._initialized=!1,t.instanceCounter.increment(s.VertexArrayObject,this)}get glName(){return this._glName}get context(){return this._context}get vertexBuffers(){return this._buffers}get indexBuffer(){return this._indexBuffer}get byteSize(){return Object.keys(this._buffers).reduce(((t,e)=>t+this._buffers[e].byteLength),null!=this._indexBuffer?this._indexBuffer.byteLength:0)}get layout(){return this._layout}get locations(){return this._locations}get memoryEstimate(){return this.byteSize+(Object.keys(this._buffers).length+(this._indexBuffer?1:0))*r}dispose(){if(this._context){this._context.getBoundVAO()===this&&this._context.bindVAO(null);for(const t in this._buffers)this._buffers[t]?.dispose(),delete this._buffers[t];this._indexBuffer=e(this._indexBuffer),this.disposeVAOOnly()}else(this._glName||Object.getOwnPropertyNames(this._buffers).length>0)&&f.warn(\"Leaked WebGL VAO\")}disposeVAOOnly(){if(this._glName){const t=this._context?.capabilities?.vao;t.deleteVertexArray(this._glName),this._glName=null}this._context.instanceCounter.decrement(s.VertexArrayObject,this),this._context=i(this._context)}initialize(){if(this._initialized)return;const t=this._context.capabilities.vao;if(t){const e=t.createVertexArray();t.bindVertexArray(e),this._bindLayout(),t.bindVertexArray(null),this._glName=e}this._initialized=!0}bind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(this.glName):(this._context.bindVAO(null),this._bindLayout())}_bindLayout(){const{_buffers:t,_layout:e,_indexBuffer:i}=this;t||f.error(\"Vertex buffer dictionary is empty!\");const r=this._context.gl;for(const s in t){const i=t[s];i||f.error(\"Vertex buffer is uninitialized!\");const r=e[s];r||f.error(\"Vertex element descriptor is empty!\"),n(this._context,this._locations,i,r)}if(null!=i){!!this._context.capabilities.vao?r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,i.glName):this._context.bindBuffer(i)}}unbind(){this.initialize();const t=this._context.capabilities.vao;t?t.bindVertexArray(null):this._unbindLayout()}_unbindLayout(){const{_buffers:t,_layout:e}=this;t||f.error(\"Vertex buffer dictionary is empty!\");for(const i in t){const r=t[i];r||f.error(\"Vertex buffer is uninitialized!\");const s=e[i];o(this._context,this._locations,r,s)}null!=this._indexBuffer&&this._context.unbindBuffer(this._indexBuffer.bufferType)}};export{u as VertexArrayObject};\n"],"names":["h","t","c","e","r","i","this","_context","bufferType","usage","_glName","_size","_indexType","instanceCounter","increment","u","gl","createBuffer","n","setData","get","a","_","deleteBuffer","decrement","warn","error","_setBufferData","byteLength","s","getBoundVAO","_isVAOAware","bindVAO","bindBuffer","bufferData","BYTES_PER_ELEMENT","type","o","bufferSubData","length","subarray","E","getBufferSubData","unbindBuffer","clientWaitAsync","getSubData","Error","f","setSize","x","_colorAttachments","Map","_depthBuffer","_stencilBuffer","_depthStencilTexture","_initialized","g","p","set","_validateTextureDescriptor","descriptor","_validateColorAttachmentPoint","b","capabilities","depthTexture","console","A","m","internalFormat","_validateRenderBufferDescriptor","size","getBoundFramebufferObject","forEach","detachColorTexture","dispose","detachDepthStencilBuffer","detachDepthStencilTexture","deleteFramebuffer","bindFramebuffer","width","height","reduce","gpuMemoryUsage","depthStencilAttachment","_framebufferTexture2D","glName","delete","d","_attachDepthStencilTexture","_attachDepthStencilBuffer","pixelFormat","dataType","_disposeDepthStencilAttachments","_getGLAttachmentPoint","framebufferRenderbuffer","RENDERBUFFER","target","bindTexture","setActiveTexture","copyTexSubImage2D","readPixels","l","T","getSubDataAsync","R","parameters","maxTextureSize","resize","maxRenderbufferSize","createFramebuffer","N","DEPTH_STENCIL_ATTACHMENT","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","framebufferTexture2D","STENCIL_ATTACHMENT","_validateBufferDimensions","DEPTH_ATTACHMENT","_MAX_COLOR_ATTACHMENTS","drawBuffers","getParameter","MAX_COLOR_ATTACHMENTS","Math","max","round","_descriptor","createRenderbuffer","bindRenderbuffer","multisampled","renderbufferStorageMultisample","samples","renderbufferStorage","maxSamples","min","deleteRenderbuffer","_locations","_layout","_buffers","_indexBuffer","Object","keys","byteSize","disposeVAOOnly","getOwnPropertyNames","vao","deleteVertexArray","createVertexArray","bindVertexArray","_bindLayout","initialize","ELEMENT_ARRAY_BUFFER","_unbindLayout"],"sourceRoot":""}