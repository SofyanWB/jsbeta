"use strict";(self.webpackChunkjakartasatubeta=self.webpackChunkjakartasatubeta||[]).push([[2964],{12964:function(e,t,r){r.r(t),r.d(t,{executeRelationshipQuery:function(){return j},executeRelationshipQueryForCount:function(){return k}});var n=r(1413),a=r(74165),u=r(15861),o=r(23084),c=r(37762),s=r(76200),i=r(22585);function d(e,t){var r=e.toJSON();return r.objectIds&&(r.objectIds=r.objectIds.join(",")),r.orderByFields&&(r.orderByFields=r.orderByFields.join(",")),!r.outFields||null!==t&&void 0!==t&&t.returnCountOnly?delete r.outFields:r.outFields.includes("*")?r.outFields="*":r.outFields=r.outFields.join(","),r.outSpatialReference&&(r.outSR=r.outSR.wkid||JSON.stringify(r.outSR.toJSON()),delete r.outSpatialReference),r.dynamicDataSource&&(r.layer=JSON.stringify({source:r.dynamicDataSource}),delete r.dynamicDataSource),r}function l(e,t,r){return f.apply(this,arguments)}function f(){return f=(0,u.Z)((0,a.Z)().mark((function e(t,r,u){var o,s,i,d,l,f,p,y,Z,v,b,j;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,r,u);case 2:o=e.sent,s=o.data,i=s.geometryType,d=s.spatialReference,l={},f=(0,c.Z)(s.relatedRecordGroups);try{for(f.s();!(p=f.n()).done;)if(y=p.value,Z={fields:void 0,objectIdFieldName:void 0,geometryType:i,spatialReference:d,hasZ:!!s.hasZ,hasM:!!s.hasM,features:y.relatedRecords},null!=y.objectId)l[y.objectId]=Z;else for(v=0,b=Object.keys(y);v<b.length;v++)"relatedRecords"!==(j=b[v])&&(l[y[j]]=Z)}catch(a){f.e(a)}finally{f.f()}return e.abrupt("return",(0,n.Z)((0,n.Z)({},o),{},{data:l}));case 10:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(e,t,r){return y.apply(this,arguments)}function y(){return y=(0,u.Z)((0,a.Z)().mark((function e(t,r,u){var o,s,i,d,l,f;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t,r,u,{returnCountOnly:!0});case 2:o=e.sent,s=o.data,i={},d=(0,c.Z)(s.relatedRecordGroups);try{for(d.s();!(l=d.n()).done;)null!=(f=l.value).objectId&&(i[f.objectId]=f.count)}catch(a){d.e(a)}finally{d.f()}return e.abrupt("return",(0,n.Z)((0,n.Z)({},o),{},{data:i}));case 8:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function h(e,t){return Z.apply(this,arguments)}function Z(){return Z=(0,u.Z)((0,a.Z)().mark((function e(t,r){var u,o,c,l=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=l.length>2&&void 0!==l[2]?l[2]:{},o=l.length>3?l[3]:void 0,c=(0,i.A)((0,n.Z)((0,n.Z)((0,n.Z)({},t.query),{},{f:"json"},o),d(r,o))),e.abrupt("return",(0,s.default)(t.path+"/queryRelatedRecords",(0,n.Z)((0,n.Z)({},u),{},{query:(0,n.Z)((0,n.Z)({},u.query),c)})));case 4:case"end":return e.stop()}}),e)}))),Z.apply(this,arguments)}var v=r(49818),b=r(99086);function j(e,t,r){return R.apply(this,arguments)}function R(){return R=(0,u.Z)((0,a.Z)().mark((function e(t,r,n){var u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.default.from(r),u=(0,o.en)(t),e.abrupt("return",l(u,r,n).then((function(e){var t=e.data,r={};return Object.keys(t).forEach((function(e){return r[e]=v.Z.fromJSON(t[e])})),r})));case 3:case"end":return e.stop()}}),e)}))),R.apply(this,arguments)}function k(e,t,r){return m.apply(this,arguments)}function m(){return m=(0,u.Z)((0,a.Z)().mark((function e(t,r,u){var c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.default.from(r),c=(0,o.en)(t),e.abrupt("return",p(c,r,(0,n.Z)({},u)).then((function(e){return e.data})));case 3:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}}}]);
//# sourceMappingURL=2964.7daaa488.chunk.js.map